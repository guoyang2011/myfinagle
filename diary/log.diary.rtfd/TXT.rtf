{\rtf1\ansi\ansicpg936\cocoartf1265\cocoasubrtf190
{\fonttbl\f0\fnil\fcharset134 STHeitiSC-Light;\f1\fswiss\fcharset0 Helvetica;\f2\fmodern\fcharset0 Courier;
\f3\fswiss\fcharset0 ArialMT;\f4\fnil\fcharset0 HelveticaNeue;\f5\fnil\fcharset0 Verdana;
\f6\fnil\fcharset0 Consolas;\f7\froman\fcharset0 Times-Roman;\f8\fnil\fcharset134 STSongti-SC-Regular;
\f9\fnil\fcharset0 Monaco;\f10\fnil\fcharset0 Tahoma;}
{\colortbl;\red255\green255\blue255;\red59\green35\blue34;\red215\green211\blue183;\red66\green66\blue66;
\red38\green38\blue38;\red19\green87\blue181;\red37\green37\blue37;\red26\green26\blue26;\red255\green255\blue213;
\red52\green110\blue183;\red217\green11\blue0;\red255\green39\blue18;\red46\green46\blue46;\red234\green234\blue234;
\red24\green32\blue123;\red143\green143\blue143;\red246\green246\blue246;\red74\green74\blue74;\red225\green223\blue212;
\red10\green82\blue135;\red0\green0\blue255;\red18\green139\blue2;\red15\green114\blue1;\red109\green109\blue109;
\red0\green61\blue204;\red83\green83\blue83;\red105\green105\blue105;\red19\green73\blue175;\red242\green242\blue242;
\red53\green53\blue53;\red243\green88\blue93;\red254\green73\blue64;}
{\*\listtable{\list\listtemplateid1\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid1\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid1}
{\list\listtemplateid2\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid101\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid2}
{\list\listtemplateid3\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid201\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid3}
{\list\listtemplateid4\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid301\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid4}
{\list\listtemplateid5\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid401\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid5}
{\list\listtemplateid6\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid501\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid6}
{\list\listtemplateid7\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid601\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid7}
{\list\listtemplateid8\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid701\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listname ;}\listid8}
{\list\listtemplateid9\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid801\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid9}
{\list\listtemplateid10\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid901\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listname ;}\listid10}
{\list\listtemplateid11\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{none\}.}{\leveltext\leveltemplateid1001\'01.;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid11}
{\list\listtemplateid12\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid1101\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid12}}
{\*\listoverridetable{\listoverride\listid1\listoverridecount0\ls1}{\listoverride\listid2\listoverridecount0\ls2}{\listoverride\listid3\listoverridecount0\ls3}{\listoverride\listid4\listoverridecount0\ls4}{\listoverride\listid5\listoverridecount0\ls5}{\listoverride\listid6\listoverridecount0\ls6}{\listoverride\listid7\listoverridecount0\ls7}{\listoverride\listid8\listoverridecount0\ls8}{\listoverride\listid9\listoverridecount0\ls9}{\listoverride\listid10\listoverridecount0\ls10}{\listoverride\listid11\listoverridecount0\ls11}{\listoverride\listid12\listoverridecount0\ls12}}
\paperw11900\paperh16840\margl1440\margr1440\vieww25320\viewh15320\viewkind0
\pard\tx566\tx1133\tx1700\tx2267\tx2834\tx3401\tx3968\tx4535\tx5102\tx5669\tx6236\tx6803\pardirnatural

\f0\fs24 \cf0 \'b7\'fe\'ce\'f1\'c6\'f7\'b6\'cb\'ca\'da\'c8\'a8\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural

\f1 \cf0 {{\NeXTGraphic Pasted Graphic 1.tiff \width10440 \height6440
}¬}\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural

\f0 \cf0 \
\pard\tx566\tx1133\tx1700\tx2267\tx2834\tx3401\tx3968\tx4535\tx5102\tx5669\tx6236\tx6803\pardirnatural
\cf0 \
\
\'b5\'da\'d2\'bb\'b2\'bd\'d7\'a2\'b2\'e1\'d5\'cb\'ba\'c5\'bb\'f1\'c8\'a1APPID,APIKey,secretKey\
\'b5\'da\'b6\'fe\'b2\'bd\'bb\'f1\'c8\'a1Authorizaiton Code\
request:\
url:https://graph.renren.com.oauth/authorize\
params:\
client_id:\'b2\'ce\'ca\'fd\'d6\'b5\'ce\'aa\'bf\'aa\'b7\'a2\'d5\'df\'d7\'a2\'b2\'e1\'b5\'c4APIKEY\
redirect_uri:\'ca\'da\'c8\'a8\'c1\'f7\'b3\'cc\'bd\'e1\'ca\'f8\'ba\'f3\'cc\'f8\'d7\'aa\'bb\'d8\'b5\'c4URL\'b5\'d8\'d6\'b7,\
response_type:code\
scope:\'bf\'c9\'d1\'a1\'a3\'ac\'c7\'eb\'c7\'f3\'b5\'c4\'c4\'ac\'c8\'cf\'c8\'a8\'cf\'de\
display:\'ca\'da\'c8\'a8\'d2\'b3\'c3\'e6\'b5\'c4\'c4\'ac\'c8\'cf\'b7\'e7\'b8\'f1\
response:\
authorization code\
expires_in:\'ca\'da\'c8\'a8\'ca\'b1\'bc\'e4\
\'b5\'da\'c8\'fd\'b2\'bd\'bb\'f1\'c8\'a1Access Token\
request:\
url:https://graph.renren.com.oauth/token\
params:\
grant_type:\'ca\'b9\'d3\'c3Authorization Code \'d7\'f7\'ce\'aa Access Grant ,\'d6\'b5\'b9\'cc\'b6\'a8\'ce\'aa\'a1\'b0authorization_code\'a1\'b1\
client_id:Api_Key\
client_secret:secret Key\
redirect_uri:\
code:\'b5\'da\'b6\'fe\'b2\'bd\'b7\'b5\'bb\'d8\'b5\'c4authorization code\
response\'a3\'ba\
token_type:\'bb\'f1\'c8\'a1\'b5\'c4Token\'c0\'e0\'d0\'cd\'a3\'acbearer \'bb\'f2\'d5\'df mac\
expires_in:Access Token\'b5\'c4\'d3\'d0\'d0\'a7\'c6\'da\'a3\'ac\'b5\'a5\'ce\'bb\'ce\'aa\'c3\'eb\
reflesh_token:\'b5\'b1AccessToken\'b9\'fd\'c6\'da\'ba\'f3\'a3\'ac\'bf\'c9\'d2\'d4\'d3\'c3Refresh Token\'b6\'d4\'c6\'e4\'bd\'f8\'d0\'d0\'cb\'a2\'d0\'c2\
user:\'d3\'c3\'bb\'a7\'b5\'c4\'b8\'f6\'c8\'cb\'d0\'c5\'cf\'a2\'a3\'ac\'b0\'fc\'c0\'a8\'d3\'c3\'bb\'a7\'b5\'c4d,\'c3\'fb\'b3\'c6\'a1\'b0name\'a1\'b1,\'cd\'b7\'cf\'f1\'a1\'b1avatar\'a1\'b1\
access_token:\'bb\'f1\'c8\'a1\'b5\'c4Access Token\
scope:Access Token \'b5\'c4\'d7\'ee\'d6\'d5\'b7\'c3\'ce\'ca\'b7\'b6\'ce\'a7,\'bc\'b4\'d3\'c3\'bb\'a7\'ca\'b5\'bc\'ca\'ca\'da\'d3\'e8\'b5\'c4\'c8\'a8\'cf\'de\'c1\'d0\'b1\'ed\
\
\'bf\'cd\'b7\'fe\'b6\'cb\'ca\'da\'c8\'a8\'a3\'ba\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural

\f1 \cf0 {{\NeXTGraphic Pasted Graphic 2.tiff \width9540 \height4680
}¬}\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural

\f0 \cf0 \
\
\'bc\'af\'c8\'ba\
server1 datanode1 192.168.1.13\
server2 datanode2 192.168.1.12\
LVS  192.168.1.14\
server3 ndbd_mgm ndbd_mgmd 192.168.1.10\
\'d6\'f7\'b4\'d3\'b1\'b8\'b7\'ddHA 08:00:27:a4:73:5e\
zhu\
\
\
\pard\pardeftab720\sl500
\cf0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural
\cf0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural

\f2\fs36 \cf2 \cb3 \CocoaLigature0 | Slave_IO_State       | Master_Host  | Master_User | Master_Port | Connect_Retry | Master_Log_File  | Read_Master_Log_Pos | Relay_Log_File          | Relay_Log_Pos | Relay_Master_Log_File | Slave_IO_Running | Slave_SQL_Running | Replicate_Do_DB | Replicate_Ignore_DB | Replicate_Do_Table | Replicate_Ignore_Table | Replicate_Wild_Do_Table | Replicate_Wild_Ignore_Table | Last_Errno | Last_Error | Skip_Counter | Exec_Master_Log_Pos | Relay_Log_Space | Until_Condition | Until_Log_File | Until_Log_Pos | Master_SSL_Allowed | Master_SSL_CA_File | Master_SSL_CA_Path | Master_SSL_Cert | Master_SSL_Cipher | Master_SSL_Key | Seconds_Behind_Master | Master_SSL_Verify_Server_Cert | Last_IO_Errno | Last_IO_Error                                                                        | Last_SQL_Errno | Last_SQL_Error |\
+----------------------+--------------+-------------+-------------+---------------+------------------+---------------------+-------------------------+---------------+-----------------------+------------------+-------------------+-----------------+---------------------+--------------------+------------------------+-------------------------+-----------------------------+------------+------------+--------------+---------------------+-----------------+-----------------+----------------+---------------+--------------------+--------------------+--------------------+-----------------+-------------------+----------------+-----------------------+-------------------------------+---------------+--------------------------------------------------------------------------------------+----------------+----------------+\
| Connecting to master | \
192.168.1.20 | \
root        |       \
 3306 |            \
60 | \
mysql-bin.000004 |                 \
308 | \
mysqld-relay-bin.000001 |            \
 4 | \
mysql-bin.000004      | \
No               | \
Yes               |               \
  |                   \
  |                  \
  |                     \
   |                         \
|                             \
|\
          0 |           \
 |            \
0 |                 \
308 |             \
106 | None            \
|                \
|             \
\
0 | No                 \
|                    |                    |                 |                   |                |                  NULL | No                            |          2013 | error connecting to master 'root@192.168.1.20:3306' - retry-time: 60  retries: 86400 |              0 |                |\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural

\f0\fs24 \cf0 \cb1 \CocoaLigature1 \
\
\
\
\
\'cc\'f8\'b9\'fd\'bf\'d8\'d6\'c6\'d7\'d6\'b7\'fb\
channel\'d6\'bb\'c4\'dc\'d4\'da\'d7\'d6\'bd\'da\'bb\'ba\'b4\'e6\'c7\'f8\'c9\'cf\'bd\'f8\'d0\'d0\'b2\'d9\'d7\'f7\
\
InterruptibleChannel\
ReadableByteChannel\
\
\
FileChannel,SocketChannel,ServerSocketChannel\
\'c3\'e6\'cf\'f2\'c1\'f7\'b5\'c4\'cd\'a8\'b5\'c0\'b2\'c5\'c4\'dc\'ca\'b9\'d3\'c3\'b7\'c7\'d7\'e8\'c8\'fb\'c4\'a3\'ca\'bd\'d4\'cb\'d0\'d0 socket pipes\
\
\
java \'b7\'fe\'ce\'f1\'c6\'f7\'b6\'cb\'bf\'aa\'b7\'a2\'c8\'fd\'b2\'e3\'bc\'dc\'b9\'b9\
\'b3\'d6\'be\'c3\'bb\'af\'b2\'e3\'bc\'bc\'ca\'f5\'a3\'baORM\'bf\'f2\'bc\'dc\'a3\'a8
\f3\fs20 \cf4 hibernate,mybatis
\f0\fs24 \cf0 \'a3\'a9\'a1\'a2\'ca\'fd\'be\'dd\'bf\'e2\'c1\'ac\'bd\'d3\'b3\'d8\'a3\'a8{\field{\*\fldinst{HYPERLINK "http://blog.csdn.net/code_du/article/details/24419003"}}{\fldrslt http://blog.csdn.net/code_du/article/details/24419003}}\'a3\'a9\'a1\'a2SQL\'d3\'c5\'bb\'af\'a3\'a8{\field{\*\fldinst{HYPERLINK "http://www.cnblogs.com/wxj1020/archive/2008/04/27/1173638.html"}}{\fldrslt http://www.cnblogs.com/wxj1020/archive/2008/04/27/1173638.html}}\'a3\'a9,\'b4\'c5\'c5\'ccIO\'a3\'a8\'b4\'f3\'ce\'c4\'bc\'fe\'b4\'ab\'ca\'e4\'a3\'ac\'d0\'a1\'ce\'c4\'bc\'fe\'b4\'e6\'b4\'a2\'a3\'a9,\'cd\'f8\'c2\'e7IO\'a3\'a8\'ca\'b9\'d3\'c3EPOLL\'a3\'acPOLL\'a3\'a9\'a3\'ac\'b8\'f7\'d6\'d6IO Cache\'a3\'a8\'b6\'d4\'d3\'da\'be\'ad\'b3\'a3\'b6\'c1\'d0\'b4\'b5\'c4\'ce\'c4\'bc\'fe\'ca\'b9\'d3\'c3\'d6\'b1\'bd\'d3NIO\'b8\'b4\'d6\'c6\'a3\'a9\'a3\'ac
\fs20 \cf4 \'d0\'d4\'c4\'dc\'d3\'c5\'bb\'af({\field{\*\fldinst{HYPERLINK "http://daihaixiang.blog.163.com/blog/static/383013420111028115538599/"}}{\fldrslt http://daihaixiang.blog.163.com/blog/static/383013420111028115538599/}})
\fs24 \cf0 \
\'d2\'b5\'ce\'f1\'c2\'df\'bc\'ad\'b2\'e3:\'bf\'d8\'d6\'c6\'b7\'b4\'d7\'aa\'a3\'a8Inversion of Control Ioc\'a3\'a9\'a3\'ac\'d2\'c0\'c0\'b5\'d7\'a2\'ca\'cd(Dependency Injection) \'d2\'c0\'c0\'b5\'b2\'e9\'d5\'d2(Dependency Loopup),\'b7\'b4\'c9\'e4\'bb\'fa\'d6\'c6\'a3\'ac\'c3\'e6\'cf\'f2\'c7\'d0\'c3\'e6\'b1\'e0\'b3\'cc\'a3\'a8AOP 
\f3\fs28 \cf5 Action Oriented Programming
\f0\fs24 \cf0 \'a3\'a9
\fs28 \cf5 \'d6\'f7\'d2\'aa\'b5\'c4\'b9\'a6\'c4\'dc\'ca\'c7\'a3\'ba\'c8\'d5\'d6\'be\'bc\'c7\'c2\'bc\'a3\'ac\'d0\'d4\'c4\'dc\'cd\'b3\'bc\'c6\'a3\'ac\'b0\'b2\'c8\'ab\'bf\'d8\'d6\'c6\'a3\'ac\'ca\'c2\'ce\'f1\'b4\'a6\'c0\'ed\'a3\'ac{\field{\*\fldinst{HYPERLINK "http://baike.baidu.com/view/1072586.htm"}}{\fldrslt \cf6 \'d2\'ec\'b3\'a3\'b4\'a6\'c0\'ed}}\'b5\'c8\'b5\'c8\

\fs24 \cf0 \'d2\'b5\'ce\'f1
\fs28 \cf5 \'b2\'e3\'d7\'b4\'cc\'ac\'ca\'fd\'be\'ddCache
\fs24 \cf0 \
\pard\pardeftab720\sl480

\fs28 \cf5 \'bf\'d8\'d6\'c6\'b7\'b4\'d7\'aa\'a3\'a8
\f3 Inversion of Control
\f0 \'a3\'ac\'d3\'a2\'ce\'c4\'cb\'f5\'d0\'b4\'ce\'aa
\f3 IoC
\f0 \'a3\'a9\'ca\'c7\'d2\'bb\'b8\'f6\'d6\'d8\'d2\'aa\'b5\'c4{\field{\*\fldinst{HYPERLINK "http://baike.baidu.com/view/10110.htm"}}{\fldrslt \cf6 \'c3\'e6\'cf\'f2\'b6\'d4\'cf\'f3\'b1\'e0\'b3\'cc}}\'b5\'c4\'b7\'a8\'d4\'f2\'c0\'b4\'cf\'f7\'bc\'f5\'bc\'c6\'cb\'e3\'bb\'fa\'b3\'cc\'d0\'f2\'b5\'c4\'f1\'ee\'ba\'cf\'ce\'ca\'cc\'e2\'a3\'ac\'d2\'b2\'ca\'c7\'c7\'e1\'c1\'bf\'bc\'b6\'b5\'c4
\f3 Spring
\f0 \'bf\'f2\'bc\'dc\'b5\'c4\'ba\'cb\'d0\'c4\'a1\'a3
\f3  
\f0 \'bf\'d8\'d6\'c6\'b7\'b4\'d7\'aa\'d2\'bb\'b0\'e3\'b7\'d6\'ce\'aa\'c1\'bd\'d6\'d6\'c0\'e0\'d0\'cd\'a3\'ac\'d2\'c0\'c0\'b5\'d7\'a2\'c8\'eb\'a3\'a8
\f3 Dependency Injection
\f0 \'a3\'ac\'bc\'f2\'b3\'c6{\field{\*\fldinst{HYPERLINK "http://baike.baidu.com/view/608186.htm"}}{\fldrslt 
\f3 \cf6 DI}}\'a3\'a9\'ba\'cd\'d2\'c0\'c0\'b5\'b2\'e9\'d5\'d2\'a3\'a8
\f3 Dependency Lookup
\f0 \'a3\'a9\'a1\'a3\'d2\'c0\'c0\'b5\'d7\'a2\'c8\'eb\'d3\'a6\'d3\'c3\'b1\'c8\'bd\'cf\'b9\'e3\'b7\'ba.\'d4\'a4\'bc\'d3\'d4\'d8\'ba\'cd\'ce\'de\'d7\'b4\'cc\'ac\'a3\'ac\'cf\'df\'b3\'cc\'b0\'b2\'c8\'ab\'b7\'fe\'ce\'f1\'c0\'e0
\fs24 \cf0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural
\cf0 \'b1\'ed\'cf\'d6\'b2\'e3\'a3\'baMVC spring mvc struts1.x struts2.x  \'b6\'af\'cc\'ac\'cd\'f8\'d2\'b3\'be\'b2\'cc\'ac\'bb\'af veloctity,freemarker,jps \'c7\'b0\'b6\'cb\'bc\'bc\'ca\'f5 jquary\
\'d0\'f2\'c1\'d0\'bb\'af\'bf\'f2\'bc\'dc\'a3\'acxml,json,protobuf,java 
\f3 \cf7 serializable framework\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural

\f0 \cf7 \'bb\'ba\'b4\'e6\'a3\'ba
\f3 redis,mongodb.memcache\

\f0 \'ca\'fd\'be\'dd\'b2\'d6\'bf\'e2\'a3\'ba\'bd\'e1\'b9\'b9\'bb\'af\'a3\'ac\'b7\'c7\'bd\'e1\'b9\'b9\'bb\'af\'a3\'ac\'b0\'eb\'bd\'e1\'b9\'b9\'bb\'af\'a3\'ac\'c1\'d0\'ca\'bd\'b4\'e6\'b4\'a2\'a3\'ac\'d0\'d0\'ca\'bd\'b4\'e6\'b4\'a2
\f3 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural

\f0 \cf0 \
AOP\'b1\'e0\'b3\'cc\'ca\'b5\'cf\'d6\'a3\'ba{\field{\*\fldinst{HYPERLINK "http://baike.baidu.com/subview/73626/13548606.htm"}}{\fldrslt http://baike.baidu.com/subview/73626/13548606.htm}}\
OOP\'ba\'cdFP\'bd\'e1\'ba\'cf\'a3\'ba\
Shared Nothing ({\field{\*\fldinst{HYPERLINK "http://blog.csdn.net/seteor/article/details/10532085"}}{\fldrslt http://blog.csdn.net/seteor/article/details/10532085}})\
\'b4\'e6\'b4\'a2\'b2\'e3:HA,\'b7\'d6\'b2\'bc\'ca\'bd\'b4\'e6\'b4\'a2(c/s,m/s,peer-peer),\'b8\'df\'bf\'c9\'d3\'c3\'d0\'d4 \'bb\'f9\'d3\'da\'b7\'d6\'c6\'ac\'b5\'c4\'b4\'e6\'b4\'a2\'a3\'acDBHA \'ca\'fd\'be\'dd\'bf\'e2\'b6\'c1\'d0\'b4\'b7\'d6\'c0\'eb\
\'b7\'d6\'b2\'bc\'ca\'bd\'cf\'b5\'cd\'b3\'bf\'aa\'b7\'a2\'bb\'f9\'b4\'a1:Netty,Akka,spark,play,finagle,Actor\'c4\'a3\'d0\'cd\'a3\'a8
\fs28 \cf8 \cb9 \'d4\'da\'bc\'c6\'cb\'e3\'bb\'fa\'bf\'c6\'d1\'a7\'d6\'d0\'a3\'ac\'b2\'ce\'d3\'eb\'d5\'df\'c4\'a3\'ca\'bd\'ca\'c7\'d2\'bb\'d6\'d6\'b2\'a2\'d0\'d0\'d4\'cb\'cb\'e3\'c9\'cf\'b5\'c4\'c4\'a3\'d0\'cd\'a1\'a3
\f4 \'93
\f0 \'b2\'ce\'d3\'eb\'d5\'df
\f4 \'94
\f0 \'ca\'c7\'d2\'bb\'d6\'d6\'b3\'cc\'ca\'bd\'c9\'cf\'b5\'c4\'b3\'e9\'cf\'f3\'b8\'c5\'c4\'ee\'a3\'ac\'b1\'bb\'ca\'d3\'ce\'aa\'b2\'a2\'d0\'d0\'d4\'cb\'cb\'e3\'b5\'c4\'bb\'f9\'b1\'be\'b5\'a5\'d4\'aa\'a3\'ba\'b5\'b1\'d2\'bb\'b8\'f6\'b2\'ce\'d3\'eb\'d5\'df\'bd\'d3\'ca\'d5\'b5\'bd\'d2\'bb\'d4\'f2\'d1\'b6\'cf\'a2\'a3\'ac\'cb\'fc\'bf\'c9\'d2\'d4\'d7\'f6\'b3\'f6\'d2\'bb\'d0\'a9\'be\'f6\'b2\'df\'a1\'a2\'bd\'a8\'c1\'a2\'b8\'fc\'b6\'e0\'b5\'c4\'b2\'ce\'d3\'eb\'d5\'df\'a1\'a2\'b4\'ab\'cb\'cd\'b8\'fc\'b6\'e0\'b5\'c4\'d1\'b6\'cf\'a2\'a1\'a2\'be\'f6\'b6\'a8\'d2\'aa\'c8\'e7\'ba\'ce\'bb\'d8\'b4\'f0\'bd\'d3\'cf\'c2\'c0\'b4\'b5\'c4\'d1\'b6\'cf\'a2\'a1\'a3\'b2\'ce\'d3\'eb\'d5\'df\'c4\'a3\'ca\'bd\'d4\'da
\f4 1973
\f0 \'c4\'ea\'d3\'da
\f4 Carl Hewitt
\f0 \'a1\'a2
\f4 Peter Bishop
\f0 \'bc\'b0
\f4 Richard Steiger
\f0 \'b5\'c4\'c2\'db\'ce\'c4\'d6\'d0\'cc\'e1\'b3\'f6
\fs24 \cf0 \cb1 \'a3\'a9,Dubbo\
\'b7\'d6\'b2\'bc\'ca\'bd\'b3\'cc\'d0\'f2\'bf\'aa\'b7\'a2\'bb\'f9\'b4\'a1\'a3\'baShareNothing\'bc\'dc\'b9\'b9,\'c3\'e6\'cf\'f2\'b7\'fe\'ce\'f1,\'b8\'df\'bf\'c9\'d3\'c3\'d0\'d4\'a3\'ac\'b8\'df\'d0\'a7\'b5\'c4\'d0\'f2\'c1\'d0\'bb\'af\'ba\'cd\'b7\'b4\'d0\'f2\'c1\'d0\'bb\'af\'bf\'f2\'bc\'dc\'a3\'ac\'d2\'ec\'b2\'bdIO,\'bf\'c9\'bc\'e0\'bf\'d8\'a3\'ac\'bf\'c9\'ce\'ac\'bb\'a4\'b5\'c8\
\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural

\f1 \cf0 {{\NeXTGraphic Pasted Graphic.tiff \width14420 \height10640
}¬}\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural

\f0 \cf0 \
\
\
\
\
fastdfs \'b2\'bf\'ca\'f0\
172.168.11.196\'a3\'a8118.123.227.34\'a3\'a9\
172.168.11.197\'a3\'a8182.140.231.196\'a3\'a9\
\
\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural

\f2\fs36 \cf2 \cb3 \CocoaLigature0 docker run -d -p 10.9.52.31:23000:23000 -v /root/docker/fastdfs/storage1:/home fastdfs-storage:1
\f0\fs24 \cf0 \cb1 \CocoaLigature1 \
\

\f2\fs36 \cf2 \cb3 \CocoaLigature0 docker run -d -p 10.9.52.31:22122:22122 -v /root/docker/fastdfs/tracker/fastdfs:/home fastdfs-tracker:1
\f0\fs24 \cf0 \cb1 \CocoaLigature1 \
\
\
fastdfs \'bb\'b7\'be\'b3\'b4\'ee\'bd\'a8 {\field{\*\fldinst{HYPERLINK "http://93489.blog.51cto.com/83489/1031276"}}{\fldrslt http://93489.blog.51cto.com/83489/1031276}},\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural
{\field{\*\fldinst{HYPERLINK "http://www.cnblogs.com/chenfei0801/p/3446697.html"}}{\fldrslt \cf0 http://www.cnblogs.com/chenfei0801/p/3446697.html}}\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural
{\field{\*\fldinst{HYPERLINK "http://blog.csdn.net/poechant/article/details/7213536"}}{\fldrslt \cf0 http://blog.csdn.net/poechant/article/details/7213536}}  \'ca\'b5\'d5\'bdFastDFS\'b7\'d6\'b2\'bc\'ca\'bd\'ce\'c4\'bc\'fe\'cf\'b5\'cd\'b3\
\
LiftJson write\'ba\'af\'ca\'fd\'b4\'e6\'d4\'da\'cf\'df\'b3\'cc\'b0\'b2\'c8\'ab\'ce\'ca\'cc\'e2 \'b6\'e0\'cf\'df\'b3\'cc\'b2\'a2\'b7\'a2\'b5\'c4\'ca\'b1\'ba\'f2\'bd\'a8\'d2\'e9\'ca\'b9\'d3\'c3\
compact(render(v))\'b4\'fa\'cc\'e6\
\
/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/bin/java -Didea.launcher.port=7532 "-Didea.launcher.bin.path=/Applications/IntelliJ IDEA 13 CE.app/Contents/bin" -Dfile.encoding=UTF-8\
\
\
\
\pard\pardeftab720\sl500\sa320

\fs32 \cf5 \'b2\'c9\'d3\'c3
\f4 Spring MVC
\f0 \'a3\'ac\'d3\'c3\'d3\'da\'d4\'da
\f4 FastDFS
\f0 \'b7\'d6\'b2\'bc\'ca\'bd\'ce\'c4\'bc\'fe\'cf\'b5\'cd\'b3\'d6\'d0\'cd\'ea\'b3\'c9\'d7\'ca\'d4\'b4\'b9\'dc\'c0\'ed
\f4 (
\f0 \'c9\'cf\'b4\'ab\'a1\'a2\'c9\'be\'b3\'fd\'a1\'a2\'cf\'c2\'d4\'d8
\f4 )
\f0 \'b5\'c4
\f4 ShowCase
\f0 \'a1\'a3\'cd\'bc\'c6\'ac\'c0\'e0\'d7\'ca\'d4\'b4\'b5\'c4\'cb\'f5\'b7\'c5\'a1\'a2\'bc\'f4\'b2\'c3\'a1\'a2\'cb\'ae\'d3\'a1\'b5\'c8\'b9\'a6\'c4\'dc\'cd\'a8\'b9\'fd\'d2\'d1\'b7\'e2\'d7\'b0\'ba\'c3
\f4 AWT
\f0 \'ba\'cd
\f4 im4java
\f0 \'bd\'f8\'d0\'d0\'b4\'a6\'c0\'ed\'a1\'a3
\f4 \
\pard\pardeftab720\sl320

\b\fs24 \cf10 \
\pard\pardeftab720\sl320\sa320
\cf5 LVS(Keepalived) + HAProxy + Varnish + Tengine + FastDFS + GD\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sl500
\ls1\ilvl0
\b0\fs32 \cf5 {\listtext	\'95	}LVS
\f0 \'d7\'f7\'ce\'aa\'b5\'da\'d2\'bb\'b2\'e3\'b8\'ba\'d4\'d8\'be\'f9\'ba\'e2\'a3\'ac\'cd\'a8\'b9\'fd
\f4 Keepalived
\f0 \'ca\'b5\'cf\'d6\'b8\'df\'bf\'c9\'d3\'c3\'a3\'ac\'b2\'c9\'d3\'c3
\f4 "DR"
\f0 \'c4\'a3\'ca\'bd\'a3\'ac
\f4 "
\f0 \'d7\'ee\'d0\'a1\'c1\'ac\'bd\'d3
\f4 "
\f0 \'b5\'f7\'b6\'c8\'cb\'e3\'b7\'a8\'a1\'a3\'bf\'c9\'cb\'ae\'c6\'bd\'c0\'a9\'d5\'b9\'a1\'a3
\f4 \
{\listtext	\'95	}HAProxy
\f0 \'d7\'f7\'ce\'aa\'b5\'da\'b6\'fe\'b2\'e3\'b8\'ba\'d4\'d8\'be\'f9\'ba\'e2\'a3\'ac\'b2\'bb\'d0\'e8\'d2\'aa\'ca\'b5\'cf\'d6\'b8\'df\'bf\'c9\'d3\'c3\'a3\'ac\'b2\'c9\'d3\'c3
\f4 "
\f0 \'d2\'bb\'d6\'c2\'d0\'d4
\f4 Hash"
\f0 \'cb\'e3\'b7\'a8\'a1\'a3\'bf\'c9\'cb\'ae\'c6\'bd\'c0\'a9\'d5\'b9\'a1\'a3
\f4 \
{\listtext	\'95	}Varnish
\f0 \'d7\'f7\'ce\'aa\'b7\'b4\'cf\'f2\'b4\'fa\'c0\'ed\'b7\'fe\'ce\'f1\'c6\'f7\'a3\'ac\'d6\'f7\'d2\'aa\'d3\'c3\'d3\'da\'bb\'ba\'b4\'e6\'b7\'fe\'ce\'f1\'c6\'f7\'a3\'ac\'b6\'e0\'cc\'a8\'b2\'bf\'ca\'f0\'a3\'ac\'b2\'c9\'d3\'c3
\f4 "URL Hash"
\f0 \'cb\'e3\'b7\'a8\'a3\'ac\'b2\'bb\'ca\'b5\'cf\'d6\'b8\'df\'bf\'c9\'d3\'c3\'a1\'a3\'d6\'a7\'b3\'d6\'cb\'ae\'c6\'bd\'c0\'a9\'d5\'b9\'a3\'ac\'b8\'f9\'be\'dd\'c9\'cf\'b2\'e3\'b8\'ba\'d4\'d8\'be\'f9\'ba\'e2\'cb\'e3\'b7\'a8\'ba\'e2\'c1\'bf\'ca\'fd\'be\'dd\'b6\'aa\'ca\'a7\'a1\'a3
\f4 \
{\listtext	\'95	}Tengine
\f0 \'d7\'f7\'ce\'aa
\f4 Web
\f0 \'b7\'fe\'ce\'f1\'c6\'f7\'a3\'ac\'bf\'c9\'cc\'ed\'bc\'d3\'e4\'af\'c0\'c0\'c6\'f7\'bb\'ba\'b4\'e6\'a3\'ac\'b2\'bb\'ca\'b5\'cf\'d6\'b8\'df\'bf\'c9\'d3\'c3\'a1\'a3\'cb\'ae\'c6\'bd\'c0\'a9\'d5\'b9\'b3\'cc\'b6\'c8\'ca\'d3
\f4 FastDFS
\f0 \'b5\'c4\'b4\'e6\'b4\'a2\'bd\'da\'b5\'e3\'b6\'f8\'b6\'a8\'a1\'a3
\f4 \
{\listtext	\'95	}FastDFS
\f0 \'d7\'f7\'ce\'aa\'d7\'ca\'d4\'b4\'b5\'c4\'b4\'e6\'b4\'a2\'d6\'d0\'d0\'c4\'a3\'ac\'d6\'a7\'b3\'d6\'cb\'ae\'c6\'bd\'c0\'a9\'d5\'b9\'a1\'a2\'b8\'df\'bf\'c9\'d3\'c3\'a1\'a3\'cd\'a8\'b9\'fd
\f4 fastdfs-nginx-module
\f0 \'ba\'cd
\f4 Tengine
\f0 \'c5\'e4\'ba\'cf\'ca\'b9\'d3\'c3\'a1\'a3
\f4 \
{\listtext	\'95	}GD
\f0 \'ca\'b5\'cf\'d6\'ca\'b5\'ca\'b1\'cb\'f5\'c2\'d4\'cd\'bc\'b9\'a6\'c4\'dc\'a1\'a3\'cd\'a8\'b9\'fd
\f4 ngx_http_image_filter_module
\f0 \'c4\'a3\'bf\'e9\'ba\'cd
\f4 Tengine
\f0 \'c5\'e4\'ba\'cf\'ca\'b9\'d3\'c3\'a1\'a3
\f4 \
{\listtext	\'95	}
\f0 \'cd\'a8\'b9\'fd
\f4 Tengine
\f0 \'b5\'c4
\f4 rewrite
\f0 \'d6\'b8\'c1\'ee\'ca\'b5\'cf\'d6\'b7\'c3\'ce\'ca\'cd\'ac\'d2\'bb\'d7\'ca\'d4\'b4\'b5\'c4\'b2\'bb\'cd\'ac\'b5\'d8\'d6\'b7
\f4 (/350x350/g1/M01...a.jpg
\f0 \'a1\'a2
\f4 /160x160/g1/M01...a.jpg)
\f0 \'cd\'ea\'b3\'c9\'b2\'bb\'cd\'ac\'cb\'f5\'c2\'d4\'cd\'bc\'d5\'b9\'cf\'d6\'b9\'a6\'c4\'dc
\f4 (
\f0 \'b2\'ce\'bf\'bc\'be\'a9\'b6\'ab\'cd\'bc\'c6\'ac\'d5\'b9\'ca\'be
\f4 )
\f0 \'a1\'a3
\f4 \
\pard\pardeftab720\sl320

\b\fs24 \cf10 \
\pard\pardeftab720\sl320\sa320
\cf5 LVS(Keepalived) + HAProxy + Varnish + Tomcat(AIO/NIO) + FastDFS + GraphicsMagick/AWT\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sl500
\ls2\ilvl0
\b0\fs32 \cf5 {\listtext	\'95	}LVS
\f0 \'d7\'f7\'ce\'aa\'b5\'da\'d2\'bb\'b2\'e3\'b8\'ba\'d4\'d8\'be\'f9\'ba\'e2\'a3\'ac\'cd\'a8\'b9\'fd
\f4 Keepalived
\f0 \'ca\'b5\'cf\'d6\'b8\'df\'bf\'c9\'d3\'c3\'a3\'ac\'b2\'c9\'d3\'c3
\f4 "DR"
\f0 \'c4\'a3\'ca\'bd\'a3\'ac
\f4 "
\f0 \'d7\'ee\'d0\'a1\'c1\'ac\'bd\'d3
\f4 "
\f0 \'b5\'f7\'b6\'c8\'cb\'e3\'b7\'a8\'a1\'a3\'bf\'c9\'cb\'ae\'c6\'bd\'c0\'a9\'d5\'b9\'a1\'a3
\f4 \
{\listtext	\'95	}HAProxy
\f0 \'d7\'f7\'ce\'aa\'b5\'da\'b6\'fe\'b2\'e3\'b8\'ba\'d4\'d8\'be\'f9\'ba\'e2\'a3\'ac\'b2\'bb\'d0\'e8\'d2\'aa\'ca\'b5\'cf\'d6\'b8\'df\'bf\'c9\'d3\'c3\'a3\'ac\'b2\'c9\'d3\'c3
\f4 "
\f0 \'d2\'bb\'d6\'c2\'d0\'d4
\f4 Hash"
\f0 \'cb\'e3\'b7\'a8\'a1\'a3\'bf\'c9\'cb\'ae\'c6\'bd\'c0\'a9\'d5\'b9\'a1\'a3
\f4 \
{\listtext	\'95	}Varnish
\f0 \'d7\'f7\'ce\'aa\'b7\'b4\'cf\'f2\'b4\'fa\'c0\'ed\'b7\'fe\'ce\'f1\'c6\'f7\'a3\'ac\'d6\'f7\'d2\'aa\'d3\'c3\'d3\'da\'bb\'ba\'b4\'e6\'b7\'fe\'ce\'f1\'c6\'f7\'a3\'ac\'b6\'e0\'cc\'a8\'b2\'bf\'ca\'f0\'a3\'ac\'b2\'c9\'d3\'c3
\f4 "URL Hash"
\f0 \'cb\'e3\'b7\'a8\'a3\'ac\'b2\'bb\'ca\'b5\'cf\'d6\'b8\'df\'bf\'c9\'d3\'c3\'a1\'a3\'d6\'a7\'b3\'d6\'cb\'ae\'c6\'bd\'c0\'a9\'d5\'b9\'a3\'ac\'b8\'f9\'be\'dd\'c9\'cf\'b2\'e3\'b8\'ba\'d4\'d8\'be\'f9\'ba\'e2\'ba\'e2\'c1\'bf\'ca\'fd\'be\'dd\'b6\'aa\'ca\'a7\'a1\'a3
\f4 \
{\listtext	\'95	}Tomcat
\f0 \'d7\'f7\'ce\'aa
\f4 Java
\f0 \'d3\'a6\'d3\'c3\'b7\'fe\'ce\'f1\'c6\'f7\'a3\'ac\'bf\'c9\'cc\'ed\'bc\'d3\'e4\'af\'c0\'c0\'c6\'f7\'bb\'ba\'b4\'e6\'a3\'ac\'cb\'ae\'c6\'bd\'c0\'a9\'d5\'b9\'b3\'cc\'b6\'c8\'ca\'d3
\f4 FastDFS
\f0 \'b5\'c4\'b4\'e6\'b4\'a2\'bd\'da\'b5\'e3\'b6\'f8\'b6\'a8\'a1\'a3
\f4 \
{\listtext	\'95	}FastDFS
\f0 \'d7\'f7\'ce\'aa\'d7\'ca\'d4\'b4\'b5\'c4\'b4\'e6\'b4\'a2\'bd\'da\'b5\'e3\'a3\'ac\'d6\'a7\'b3\'d6\'cb\'ae\'c6\'bd\'c0\'a9\'d5\'b9\'a1\'a2\'b8\'df\'bf\'c9\'d3\'c3\'a1\'a3\'cd\'a8\'b9\'fd
\f4 JAVA API
\f0 \'b5\'f7\'d3\'c3\'bb\'f1\'c8\'a1\'cd\'bc\'c6\'ac\'a1\'a3
\f4 \
{\listtext	\'95	}
\f0 \'c4\'ac\'c8\'cf\'ca\'b9\'d3\'c3
\f4 GraphicsMagick
\f0 \'ca\'b5\'cf\'d6\'ca\'b5\'ca\'b1\'cb\'f5\'c2\'d4\'cd\'bc\'b9\'a6\'c4\'dc\'a1\'a3\'bf\'c9\'d1\'a1\'d4\'f1
\f4 ImageMagick
\f0 \'bb\'f2
\f4 AWT
\f0 \'a1\'a3
\f4 GraphicsMagick/ImageMagick
\f0 \'b5\'c4\'b5\'f7\'d3\'c3\'cd\'a8\'b9\'fd
\f4 im4java
\f0 \'cd\'ea\'b3\'c9\'a1\'a3
\f4 \
{\listtext	\'95	}
\f0 \'cd\'a8\'b9\'fd
\f4 Spring MVC
\f0 \'d6\'a7\'b3\'d6\'b7\'c3\'ce\'ca\'cd\'ac\'d2\'bb\'d7\'ca\'d4\'b4\'b5\'c4\'b2\'bb\'cd\'ac\'b5\'d8\'d6\'b7
\f4 (/350x350/g1/M01...a.jpg
\f0 \'a1\'a2
\f4 /160x160/g1/M01...a.jpg)
\f0 \'cd\'ea\'b3\'c9\'b2\'bb\'cd\'ac\'cb\'f5\'c2\'d4\'cd\'bc\'d5\'b9\'cf\'d6\'b9\'a6\'c4\'dc
\f4 (
\f0 \'b2\'ce\'bf\'bc\'be\'a9\'b6\'ab\'cd\'bc\'c6\'ac\'d5\'b9\'ca\'be
\f4 )
\f0 \'a1\'a3
\f4 \
\pard\pardeftab720\sl500

\b\fs42 \cf10 \
\pard\pardeftab720\sl500\sa320
\cf5 xultimate-browse\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sl500
\ls3\ilvl0
\b0\fs32 \cf5 {\listtext	\'95	}
\f0 \'b8\'c3\'cf\'ee\'c4\'bf\'cc\'e1\'b9\'a9\'b5\'c4\'b9\'a6\'c4\'dc\'d3\'c3\'d3\'da\'cc\'e6\'b4\'fa
\f4 Tengine
\f0 \'a1\'a2
\f4 fastdfs-nginx-module
\f0 \'a1\'a2
\f4 ngx_http_image_filter_module
\f0 \'c4\'a3\'bf\'e9\'a3\'ac\'c7\'b0\'d5\'df\'c4\'a3\'bf\'e9\'bf\'c9\'ca\'b5\'cf\'d6\'d7\'ca\'d4\'b4\'e4\'af\'c0\'c0\'a3\'ac\'ba\'f3\'d5\'df\'c4\'a3\'bf\'e9\'d3\'c3\'d3\'da\'ca\'b5\'ca\'b1\'cb\'f5\'c2\'d4\'cd\'bc\'a3\'ac\'b5\'ab\'ca\'c7\'c3\'bb\'d3\'d0\'ca\'b9\'d3\'c3
\f4 GraphicsMagick
\f0 \'a1\'a3
\f4 \
{\listtext	\'95	}
\f0 \'cc\'e1\'b9\'a9\'d7\'ca\'d4\'b4\'cf\'c2\'d4\'d8\'ba\'cd\'cd\'bc\'c6\'ac\'cf\'c2\'d4\'d8\'b9\'a6\'c4\'dc\'a3\'ac\'b2\'c9\'d3\'c3\'e4\'af\'c0\'c0\'c6\'f7\'bb\'ba\'b4\'e6\'a1\'a3\'cd\'bc\'c6\'ac\'cf\'c2\'d4\'d8\'b9\'a6\'c4\'dc\'d6\'a7\'b3\'d6\'d4\'ad\'cd\'bc\'ba\'cd\'ca\'b5\'ca\'b1\'cb\'f5\'c2\'d4\'cd\'bc\'a3\'ac\'cd\'bc\'c6\'ac\'b4\'a6\'c0\'ed\'b9\'a6\'c4\'dc\'c4\'ac\'c8\'cf\'ca\'b9\'d3\'c3
\f4 im4java + GraphicsMagick
\f0 \'ca\'b5\'cf\'d6\'a3\'ac\'d6\'a7\'b3\'d6
\f4 AWT
\f0 \'bb\'f2
\f4 ImageMagick
\f0 \'a1\'a3
\f4 \
{\listtext	\'95	}
\f0 \'cf\'ee\'c4\'bf
\f4 Web
\f0 \'b2\'e3\'b2\'c9\'d3\'c3
\f4 Spring MVC
\f0 \'a1\'a3
\f4 \
{\listtext	\'95	}
\f0 \'e4\'af\'c0\'c0\'c6\'f7\'bb\'ba\'b4\'e6\'b9\'a6\'c4\'dc\'cd\'a8\'b9\'fd
\f4 xultimate-web
\f0 \'b9\'a4\'b3\'cc\'b5\'c4
\f4 BrowserCacheGenerator
\f0 \'cd\'ea\'b3\'c9\'a1\'a3
\f4 \
{\listtext	\'95	}
\f0 \'cd\'bc\'c6\'ac\'b4\'a6\'c0\'ed
\f4 (
\f0 \'cb\'f5\'b7\'c5\'b5\'c8
\f4 )
\f0 \'b9\'a6\'c4\'dc\'b2\'c9\'d3\'c3
\f4 xultimate-context
\f0 \'b5\'c4
\f4 image
\f0 \'c4\'a3\'bf\'e9\'b4\'a6\'c0\'ed\'a1\'a3
\f4 \
{\listtext	\'95	}
\f0 \'d7\'ca\'d4\'b4\'cf\'c2\'d4\'d8\'b9\'a6\'c4\'dc\'b2\'c9\'d3\'c3
\f4 xultimate-context-support
\f0 \'b5\'c4
\f4 dfs/fastdfs
\f0 \'c4\'a3\'bf\'e9\'b4\'a6\'c0\'ed\'a1\'a3
\f4 \
\pard\pardeftab720\sl500

\b\fs42 \cf10 \
\pard\pardeftab720\sl500\sa320
\cf5 xultimate-upload\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sl500
\ls4\ilvl0
\b0\fs32 \cf5 {\listtext	\'95	}
\f0 \'cc\'e1\'b9\'a9\'d7\'ca\'d4\'b4\'c9\'cf\'b4\'ab\'ba\'cd\'cd\'bc\'c6\'ac\'c9\'cf\'b4\'ab\'a3\'ac\'d2\'d4\'bc\'b0\'d7\'ca\'d4\'b4\'c9\'be\'b3\'fd\'b9\'a6\'c4\'dc\'a1\'a3
\f4 \
{\listtext	\'95	}
\f0 \'cf\'ee\'c4\'bf
\f4 Web
\f0 \'b2\'e3\'b2\'c9\'d3\'c3
\f4 Spring MVC
\f0 \'a1\'a3
\f4 \
{\listtext	\'95	}
\f0 \'cd\'bc\'c6\'ac\'b4\'a6\'c0\'ed
\f4 (
\f0 \'cb\'f5\'b7\'c5\'b5\'c8
\f4 )
\f0 \'b9\'a6\'c4\'dc\'b2\'c9\'d3\'c3
\f4 xultimate-context
\f0 \'b5\'c4
\f4 image
\f0 \'c4\'a3\'bf\'e9\'b4\'a6\'c0\'ed\'a1\'a3
\f4 \
{\listtext	\'95	}
\f0 \'d7\'ca\'d4\'b4\'c9\'cf\'b4\'ab\'a1\'a2\'c9\'be\'b3\'fd\'b9\'a6\'c4\'dc\'b2\'c9\'d3\'c3
\f4 xultimate-context-support
\f0 \'b5\'c4
\f4 dfs/fastdfs
\f0 \'c4\'a3\'bf\'e9\'b4\'a6\'c0\'ed\'a1\'a3\
\pard\tx566\pardeftab720\sl500

\f4 \cf5 \
\
\
mongodb \
1.
\f0 \'d6\'f7\'b4\'d3\'b1\'b8\'b7\'dd
\f4 \
master \
./mongod \'97dbpath ~/db/master \'97logpath ~/db/master/logs/log.log \'97port 11001 \'97master\
./mongod \'97dbpath ~/db/slaver1 \'97logpath ~/db/slaver1/logs/log.log \'97port 1102 \'97slave \'97source localhost:11001\
./mongod \'97dbpath ~/db/slaver2 \'97logpath ~/db/slaver2/logs/log.log \'97port 1103 \'97slave \'97source localhost:11001\
2.
\f0 \'b8\'b1\'b1\'be\'bd\'da\'b5\'e3
\f4 \

\f0 ./mongod \'a1\'aadbpath  ~/cluster/node1 \'a1\'aaport 11001 \'a1\'aareplSet appstore/hostname:11002\
./mongod \'a1\'aadbpath ~/cluster/node2  \'a1\'aaport 11002 \'a1\'aareplSet appstore/hostname:11001
\f4 \
3.
\f0 \'b7\'d6\'c6\'ac
\f4 \
\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural

\f0 \cf5 \'b7\'c0\'d6\'b9\'c5\'c0\'b3\'e6\'b9\'a5\'bb\'f7\'bb\'f2\'d5\'dfDDos\'b9\'a5\'bb\'f7\'cb\'bc\'c2\'b7\
\'b7\'fe\'ce\'f1\'c6\'f7\'b6\'cb\'c7\'bf\'d6\'c6\'d1\'e9\'d6\'a4\'c7\'eb\'c7\'f3\'b6\'cb\'b5\'c4\'ca\'fd\'be\'dd[\cf11 requestId\cf5 (\'b7\'fe\'ce\'f1\'c6\'f7\'b6\'cb\'c3\'bf\'b4\'ce\'c9\'fa\'b3\'c9),\cf12 clientId\cf5 (\'bf\'cd\'b7\'fe\'b6\'cb\'d6\'d5\'b6\'cb\'cf\'e0\'b9\'d8),\cf11 userId\cf5 (\'d7\'a2\'b2\'e1\'d5\'cb\'bb\'a7\'ca\'b1\'c9\'fa\'b3\'c9),\cf12 ip\cf5 (\'bf\'cd\'b7\'fe\'b6\'cb\'b5\'c4IP\'b5\'d8\'d6\'b7),method(\'c7\'eb\'c7\'f3\'b5\'c4\'b7\'bd\'b7\'a8),\cf11 startTime\cf5 (\'ca\'d5\'b5\'bd\'c7\'eb\'c7\'f3\'bf\'aa\'ca\'bc\'b4\'a6\'c0\'ed\'b5\'c4\'ca\'b1\'bc\'e4),\cf12 endTime\cf8 (\'b7\'fe\'ce\'f1\'c6\'f7\'b6\'cb\'b4\'a6\'c0\'ed\'cd\'ea\'b5\'b1\'c7\'b0\'c7\'eb\'c7\'f3\'b5\'c4\'ca\'b1\'bc\'e4)\cf5 ]\
\'b7\'fe\'ce\'f1\'c6\'f7\'b6\'cb\'ce\'aa\'c3\'bf\'b4\'ce\'c7\'eb\'c7\'f3\'c9\'e8\'d6\'c3\'d2\'bb\'b8\'f6\'ba\'cf\'c0\'ed\'b5\'c4\'ca\'b1\'bc\'e4\'b4\'c1\'b7\'b6\'ce\'a7\'a3\'ac\'c8\'e7\'b9\'fb\'bf\'cd\'b7\'fe\'b6\'cb\'d4\'da\'d5\'e2\'b8\'f6\'ca\'b1\'bc\'e4\'b4\'c1\'c4\'da\'c6\'b5\'b7\'b1\'b5\'f7\'d3\'c3\'bd\'d3\'bf\'da\'a3\'ac\'be\'cd\'c8\'cf\'ce\'aa\'bf\'cd\'b7\'fe\'b6\'cb\'b4\'e6\'d4\'da\'b9\'a5\'bb\'f7
\f4 \
\pard\tx566\pardeftab720\sl500
\cf5 the loadbalancer stack:balances requests across multiple endpoints\
the endpoint stack:provides failure management and connection pooling\
the connection stack:provides connection life-cycle management and implements the wire protocol\

\f0 \'c8\'d5\'d6\'be\'b7\'d6\'c0\'e0
\f4 \

\f0 \'d3\'c3\'bb\'a7\'b7\'b6\'ce\'a7\'c8\'d5\'d6\'beaccess.log\
\'c7\'eb\'c7\'f3\'b8\'fa\'d7\'d9\'c8\'d5\'d6\'betracker.log\
\'cf\'b5\'cd\'b3\'d4\'cb\'d0\'d0\'c8\'d5\'d6\'beruntime.log\
\'cf\'b5\'cd\'b3\'d2\'ec\'b3\'a3\'c8\'d5\'d6\'beerror.log\
\
\
reactive application:\
1.event-driven(\'ca\'c2\'bc\'fe\'c7\'fd\'b6\'af) composed from loosely event handlers\
2.scalable(\'bf\'c9\'c9\'ec\'cb\'f5scale up and scale out)\
3.resilient(\'d3\'d0\'b5\'af\'d0\'d4) if it can recover quickly from failures\
4.responsive\
Events handled asynchronously,with blocking\
\
\
\
scale up: make use of parallelism in multi-core system\
scale out:make use of multiple server nodes\
\
scalability:Minimize shared mutable state\
scale out:Location transparency ,resilience\
\
failure :software failure,hardware failure,connection failure\
\
\'bc\'d2\'cd\'a5\'bd\'c7\'c9\'ab\'a3\'ba\'b0\'d6\'b0\'d6\'a3\'ac\'c2\'e8\'c2\'e8\'a3\'ac\'b8\'e7\'b8\'e7\'a3\'ac\'b5\'dc\'b5\'dc\'a3\'ac\'bd\'e3\'bd\'e3\'a3\'ac\'c3\'c3\'c3\'c3\
family_account_id\'a3\'a8name,password\'a3\'a9\
family_member_id(\'c9\'ed\'b8\'df\'a3\'ac\'cc\'e5\'d6\'d8\'a3\'ac\'d7\'a2\'b2\'e1\'ca\'b1\'bc\'e4\'a3\'ac\'c4\'ea\'c1\'e4\'a3\'ac\'d0\'d4\'b1\'f0\'a3\'ac\'bd\'c7\'c9\'abrole)\
\pard\pardeftab720\sa60

\f3\fs24 \cf13 h_weight()\
h_location()\
\
\
\
\
package cn.changhong\
\
import java.net.InetSocketAddress\
import java.util.concurrent.atomic.AtomicInteger\
\
import com.twitter.finagle.Thrift\
import com.twitter.finagle.builder.ClientBuilder\
import com.twitter.finagle.thrift.ThriftClientFramedCodec\
import com.twitter.util.\{ Duration,Future\}\
import core.\{ IndexNewsOperatorServices\}\
\
import scala.util.Random\
\
/**\
 * Created by yangguo on 14-12-17.\
 */\
object ClientTest \{\
  val s1:AtomicInteger=new AtomicInteger(0)\
  val e1:AtomicInteger=new AtomicInteger(0)\
  val noMatch:AtomicInteger=new AtomicInteger(0)\
  val ee1:AtomicInteger=new AtomicInteger(0)\
  var ex1: Throwable = null\
  val client = Thrift.newIface[IndexNewsOperatorServices.FutureIface]("localhost:10000")\
  def run1: Unit =\{\
    (1 to 100000) foreach \{ index =>\
      doTask(index)\
    \}\
    Thread.sleep(10000)\
    println(s1.get() + "," + e1.get() + ",noMatch=" + noMatch.get()+",total try="+ee1.get())\
\
  \}\
  def doTask(index: Int, timeout: Long = 0,try_count:Int=0): Unit = \{\
    client.deleteArtificaillyNes(index) onSuccess \{ b =>\
      s1.addAndGet(1)\
      if(b!=index) noMatch.addAndGet(1)\
    \} onFailure \{ ex =>\
      ee1.addAndGet(1)\
        Thread.sleep(try_count)\
        if (ex1 == null) ex1 = ex\
        if (try_count > 3) e1.addAndGet(1)\
        else doTask(index, (new Random().nextInt()) % 1000, try_count + 1)\
    \}\
  \}\
\
  def main(args: Array[String]): Unit = \{\
   run\
  \}\
  def run \{\
    val serviceCodec = ThriftClientFramedCodec()\
    val service = ClientBuilder()\
      .hosts(Seq(new InetSocketAddress("localhost",10000),new InetSocketAddress("www.chphone.cn", 10000)))\
      .codec(serviceCodec)\
      .hostConnectionLimit(3)\
      .build()\
    val clients=new IndexNewsOperatorServices.FinagledClient(service)\
    (1 to 10000).foreach\{index=>clients.deleteArtificaillyNes(1) onSuccess\{e=>println(e)\} onFailure\{ex=>ex.printStackTrace()\}\}\
    \
  \}\
\
\}\
package cn.changhong\
\
import java.net.InetSocketAddress\
\
import cn.changhong.core.\{IndexNewsOperatorServices, NewsModel\}\
import com.twitter.finagle.Thrift\
import com.twitter.finagle.builder.ServerBuilder\
import com.twitter.finagle.thrift.ThriftServerFramedCodec\
import com.twitter.util.\{Return, Await, Future\}\
import org.apache.thrift.protocol.TBinaryProtocol\
\
/**\
 * Created by yangguo on 14-12-18.\
 */\
class IndexNewsOperationImp extends IndexNewsOperatorServices.FutureIface \{\
  override def indexNews(indexNews: NewsModel): Future[Boolean] = Future.value(true)\
\
  override def deleteArtificaillyNes(id: Int): Future[Int] = \{\
    println(id)\
    Future.value(id)\
  \}\
\}\
object Server \{\
  def main(args:Array[String]): Unit = \{\
    if (args == null || args.length < 1) throw new IllegalArgumentException("bind ip and port")\
//    val server=Thrift.serveIface(args(0),new IndexNewsOperatorServices[Future] \{\
//\
//    \})\
//    Await.ready(serwww.chphon.cn\
    val service =new IndexNewsOperatorServices.FinagledService(new IndexNewsOperationImp,new TBinaryProtocol.Factory())\
    ServerBuilder()\
       .bindTo(new InetSocketAddress((10000)))\
       .codec(ThriftServerFramedCodec())\
       .name("sbt")\
       .build(service)\
  \}\
\}\
\pard\tx566\pardeftab720\sl500

\f0\fs32 \cf5 \
\
\
\pard\pardeftab720\sl380

\f5\fs26 \cf0 yum -y install gcc-c++ libevent libevent-devel automake autoconf m4 bison zlib zlib-devel bzip2 bzip2-devel flex pkgconfig python python-devel ruby ruby-devel mono-devel libxml2 libxml2-devel ant openssl-devel
\f0\fs32 \cf5 \
\pard\tx566\pardeftab720\sl500
\cf5 \
\'b0\'b2\'d7\'b0thrift\'b4\'ed\'ce\'f3\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural

\f2\fs36 \cf2 \cb3 \CocoaLigature0 .libs/ThriftTest_constants.o: No such file or directory\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural

\f0 \cf2 \'b5\'da\'d2\'bb\'d6\'d6\'b7\'bd\'b7\'a8 \'bc\'d3\'c9\'cf\'a1\'aawithout-tests\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural

\f2 \cf2 ./configure --prefix=/usr/local/thrift --with-boost=/usr/local/boost --with-java=no  --with-erlang=no  --with-perl=no  --with-php=no  --with-ruby=no --with-csharp=no --disable-static --without-tests\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural

\f0 \cf2 \'b5\'da\'b6\'fe\'d6\'d6\'b7\'bd\'b7\'a8
\f2 \

\f0 \'b8\'b4\'d6\'c6
\f6\fs28 \cf0 \cb14 \CocoaLigature1 test/cpp
\f0 \'d6\'d0\'cb\'f9\'d3\'d0*.o\'ce\'c4\'bc\'fe\'b5\'bd
\f6 test/cpp
\f0 /.libs/\'cf\'c2
\fs32 \cf5 \cb1 \
\pard\tx566\pardeftab720\sl500
\cf5 thrift 0.9.1\'b0\'b2\'d7\'b0fb303\'b4\'ed\'ce\'f3\
\pard\pardeftab720\sl400

\f3\fs28 \cf5 gen-cpp/FacebookService.h:10:39: fatal error: thrift/TDispatchProcessor.h: No such file or directory\

\f0 \'bd\'ab
\f3 fb303/cpp/Makefile.am
\f0 \'d6\'d0
\f3 \
AM_CPPFLAGS += -I$(thrift_home)/include/thrift\

\f0 \'b8\'c4\'ce\'aa
\f3 \
AM_CPPFLAGS += -I$(thrift_home)/include/
\f0\fs32 \
\pard\tx566\pardeftab720\sl500
\cf5 scribe \'b0\'b2\'d7\'b0\'ce\'ca\'cc\'e2 \'b9\'d9\'b7\'bd\'cf\'c2\'d4\'d8\'b5\'c42.1\'ba\'cd2.2\'b0\'e6\'b1\'be\'b5\'c4\'b0\'fc\'b6\'bc\'d3\'d0\'ce\'ca\'cc\'e2\'a3\'ac\
\pard\tx566\pardeftab720\sl500
{\field{\*\fldinst{HYPERLINK "http://dongxicheng.org/search-engine/scribe-installation/"}}{\fldrslt \cf5 http://dongxicheng.org/search-engine/scribe-installation/}}\
\
\'b0\'b2\'d7\'b0\'b2\'ce\'bf\'bc\
\pard\tx566\pardeftab720\sl500
{\field{\*\fldinst{HYPERLINK "http://www.cnblogs.com/hadoopdev/p/3207940.html"}}{\fldrslt \cf5 http://www.cnblogs.com/hadoopdev/p/3207940.html}}\
\'ce\'ca\'cc\'e2\'b2\'ce\'bf\'bc\
\pard\tx566\pardeftab720\sl500
{\field{\*\fldinst{HYPERLINK "http://dongxicheng.org/search-engine/scribe-installation/"}}{\fldrslt \cf5 http://dongxicheng.org/search-engine/scribe-installation/}}\
\
\'d4\'cb\'d0\'d0scribe \'cc\'ed\'bc\'d3\'b5\'c4path\'d0\'e8\'d2\'aa\
\pard\pardeftab720\sl380

\f5\fs26 \cf0 export LD_LIBRARY_PATH=/usr/local/thrift/lib:/usr/lib:/usr/local/lib:/usr/local/boost/lib:/usr/local/thrift/fb303/lib
\f0\fs32 \cf5 \
\pard\tx566\pardeftab720\sl500
\cf5 zip kin to one runnable jar \
\pard\tx566\pardeftab720\sl500

\f3\fs26 \cf8 bin/sbt 'project zipkin-query-service' package-dist\
\
\
\
\pard\tx566\pardeftab720\sl500

\f0\fs32 \cf5 \
\
Annotation-includes value,timestamp and host\
Span - a set of annotations that correspond to a particular rpc\
Trace - a set of spans that share a single root span\
\
client send,server receive,server send,client receive\
\
traceId=[69c810b12ca8076f,None,69c810b12ca8076f],\
\
nextId=69c810b12ca8076f.eefc3230b3d8ab31<:69c810b12ca8076f,state=State(Some(69c810b12ca8076f.69c810b12ca8076f<:69c810b12ca8076f),false,List(com.twitter.finagle.zipkin.thrift.ZipkinTracer@6ee6ce06)),traceId=Some(69c810b12ca8076f),\
\
zikin \'b0\'b2\'d7\'b0\'b9\'fd\'b3\'cc\

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrt\brdrnil \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clmgf \clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx4320
\clmrg \clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360

\f6\fs24 \cf5 This doc describes a quickstart to running zipkin with zookeeper and\cell 
\pard\intbl\itap1\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 cassandra, which is the configuration most commonly used.  All of\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 these services are running on one machine in the setup described here.\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 It presumes you have a clean-ish Ubuntu 12.04 install, and a user with\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 sudo capabilities (eg user is in wheel group and wheel group is\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 allowed in /etc/sudoers)\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1
\cf5 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 \
\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 This includes building Zipkin from the current master branch from Github.\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 Aaron Gooch March 11, 2013 - heavily based on the centos6-quickstart.txt (now deleted)\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1
\cf5 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 \
\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 --------------------------------\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 Groundwork - perform this as ROOT\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 --------------------------------\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1
\cf5 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 \
\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 1. Download and install Cassandra\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 #Add the Datastax REPO, http://www.datastax.com/docs/quick_start/cassandra_quickstart#\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1
\cf5 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 \
\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 vi /etc/apt/sources.list\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 #add\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 deb http://debian.datastax.com/community stable main\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 #save, then get the key\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 curl -L http://debian.datastax.com/debian/repo_key | sudo apt-key add -\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1
\cf5 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 \
\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 2. Install Cassandra\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 sudo apt-get update\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 sudo apt-get install dsc12\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1
\cf5 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 \
\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 3. Install Java 7 JDK\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 #we aren't a java shop so openjdk is fine for us\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 sudo apt-get install openjdk-6-jre-headless\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1
\cf5 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 \
\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 4. Set up JAVA_HOME path var\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 #in .bashrc or equivalent \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 export JAVA_HOME=/etc/alternatives/java\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 export PATH=JAVA_HOME/bin:$PATH\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1
\cf5 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 \
\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 5. Start cassandra \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 sudo service cassandra start\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1
\cf5 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 \
\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 6. Install Zookeeper (optional)\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 #I installed to /opt/zookeeper, follow the instructions\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 http://zookeeper.apache.org/doc/trunk/zookeeperStarted.html\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1
\cf5 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 \
\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 8. Install GIT\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 sudo apt-get install git\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1
\cf5 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 \
\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 --------------------------------\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 Zipkin\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 --------------------------------\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1
\cf5 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 \
\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 9. Install Zipkin\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1
\cf5 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 \
\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 mkdir -p ~/apps/\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 git clone https://github.com/twitter/zipkin.git\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1
\cf5 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 \
\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 cd zipkin\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1
\cf5 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 \
\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 # note the 4gig memory usage. You can use less but your build may fail.\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 export SBT_OPTS='-Xms512m -Xmx4096m -XX:MaxPermSize=1024m'\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 #start a sbt shell and compile the 3 projects we need to run\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 bin/sbt <enter>\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 > project zipkin-web\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 > compile\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 #and wait, then repeat for zipkin-collector and zipkin-query ie project zipkin-collector <enter> compile <enter>\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 > project zipkin-collector\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 > compile\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 #wait\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 > project zipkin-query\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 > compile\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 #wait\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1
\cf5 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 \
\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 10. Start zookeeper (optional)\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1
\cf5 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 \
\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 cd <zookeeper install location>\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 bin/zkServer.sh start\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1
\cf5 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 \
\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 11. Run it!\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1
\cf5 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 \
\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 bin/collector cassandra\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 bin/query cassandra\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 bin/web\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1
\cf5 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 \
\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat1 \trbrdrl\brdrnil \trbrdrt\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth9380\clftsWidth3 \clminw1000 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrs\brdrw20\brdrcf14 \clpadl200 \clpadr200 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth15200\clftsWidth3 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadl200 \clpadr200 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\sl360\qr
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\sl360
\cf5 12. browse to http://localhost:8080/\cell \lastrow\row
\pard\tx566\pardeftab720\sl500

\f0\fs32 \cf5 \
\
\
\
\pard\pardeftab720\sl440\sa360

\f7\fs30 \cf8 In today's post we will try to cover very interesting and important topic: distributed system tracing. What it practically means is that we will try to trace the request from the point it was issued by the client to the point the response to this request was received. At first, it looks quite straightforward but in reality it may involve many calls to several other systems, databases, NoSQL stores, caches, you name it ...\
In 2010\'a0{\field{\*\fldinst{HYPERLINK "https://www.google.com/"}}{\fldrslt \cf15 Google}}\'a0published a paper about\'a0{\field{\*\fldinst{HYPERLINK "http://research.google.com/pubs/pub36356.html"}}{\fldrslt \cf15 Dapper}}, a large-scale distributed systems tracing infrastructure (very interesting reading by the way). Later on,\'a0{\field{\*\fldinst{HYPERLINK "https://twitter.com/"}}{\fldrslt \cf15 Twitter}}\'a0built its own implementation based on\'a0{\field{\*\fldinst{HYPERLINK "http://research.google.com/pubs/pub36356.html"}}{\fldrslt \cf15 Dapper}}\'a0paper, called\'a0{\field{\*\fldinst{HYPERLINK "http://twitter.github.io/zipkin/"}}{\fldrslt \cf15 Zipkin}}\'a0and that's the one we are going to look at.\
We will build a simple\'a0{\field{\*\fldinst{HYPERLINK "https://jax-rs-spec.java.net/"}}{\fldrslt \cf15 JAX-RS 2.0}}\'a0server using great\'a0{\field{\*\fldinst{HYPERLINK "http://cxf.apache.org/"}}{\fldrslt \cf15 Apache CXF}}\'a0library. For the client side, we will use\'a0{\field{\*\fldinst{HYPERLINK "https://jax-rs-spec.java.net/"}}{\fldrslt \cf15 JAX-RS 2.0}}\'a0client API and by utilizing\'a0{\field{\*\fldinst{HYPERLINK "http://twitter.github.io/zipkin/"}}{\fldrslt \cf15 Zipkin}}\'a0we will trace all the interactions between the client and the server (as well as everything happening on server side). To make an example a bit more illustrative, we will pretend that server uses some kind of database to retrieve the data. Our code will be a mix of pure Java and a bit of{\field{\*\fldinst{HYPERLINK "http://www.scala-lang.org/"}}{\fldrslt \cf15 Scala}}\'a0(the choice of\'a0{\field{\*\fldinst{HYPERLINK "http://www.scala-lang.org/"}}{\fldrslt \cf15 Scala}}\'a0will be cleared up soon).\
One additional dependency in order for\'a0{\field{\*\fldinst{HYPERLINK "http://twitter.github.io/zipkin/"}}{\fldrslt \cf15 Zipkin}}\'a0to work is\'a0{\field{\*\fldinst{HYPERLINK "http://zookeeper.apache.org/"}}{\fldrslt \cf15 Apache Zookeeper}}. It is required for coordination and should be started in advance. Luckily, it is very easy to do:\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sl440\sa200
\ls5\ilvl0\cf8 {\listtext	\'95	}download the release from\'a0{\field{\*\fldinst{HYPERLINK "http://zookeeper.apache.org/releases.html"}}{\fldrslt \cf15 http://zookeeper.apache.org/releases.html}}\'a0(the current stable version at the moment of writing is\'a0
\b 3.4.5
\b0 )\
{\listtext	\'95	}unpack it into\'a0
\b zookeeper-3.4.5
\b0 \
{\listtext	\'95	}copy\'a0
\b zookeeper-3.4.5/conf/zoo_sample.cfg
\b0 \'a0to\'a0
\b zookeeper-3.4.5/conf/zoo.cfg
\b0 \
{\listtext	\'95	}and just start\'a0{\field{\*\fldinst{HYPERLINK "http://zookeeper.apache.org/"}}{\fldrslt \cf15 Apache Zookeeper}}\'a0serverWindows: zookeeper-3.4.5/bin/zkServer.cmd\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sl440
\ls5\ilvl0\cf8 {\listtext	\'95	}Linux: zookeeper-3.4.5/bin/zkServer.sh start\
\pard\pardeftab720\sl440\sa360
\cf8 Now back to\'a0{\field{\*\fldinst{HYPERLINK "http://twitter.github.io/zipkin/"}}{\fldrslt \cf15 Zipkin}}.\'a0{\field{\*\fldinst{HYPERLINK "http://twitter.github.io/zipkin/"}}{\fldrslt \cf15 Zipkin}}\'a0is written in\'a0{\field{\*\fldinst{HYPERLINK "http://www.scala-lang.org/"}}{\fldrslt \cf15 Scala}}. It is still in active development and the best way to start off with it is just by cloning its\'a0{\field{\*\fldinst{HYPERLINK "https://github.com/twitter/zipkin"}}{\fldrslt \cf15 GitHub}}\'a0repository and build it from sources:\
\pard\pardeftab720\sl440
\cf8 git clone {\field{\*\fldinst{HYPERLINK "https://github.com/twitter/zipkin.git"}}{\fldrslt \cf15 https://github.com/twitter/zipkin.git}}\
\pard\pardeftab720\sl440\sa360
\cf8 From architectural prospective,\'a0{\field{\*\fldinst{HYPERLINK "http://twitter.github.io/zipkin/"}}{\fldrslt \cf15 Zipkin}}\'a0consists of three main components:\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sl440\sa200
\ls6\ilvl0
\b \cf8 {\listtext	\'95	}collector
\b0 : collects traces across the system\
\ls6\ilvl0
\b {\listtext	\'95	}query
\b0 : queries collected traces\
\ls6\ilvl0
\b {\listtext	\'95	}web
\b0 : provides web-based UI to show the traces\
\pard\pardeftab720\sl440\sa360
\cf8 To run them,\'a0{\field{\*\fldinst{HYPERLINK "http://twitter.github.io/zipkin/"}}{\fldrslt \cf15 Zipkin}}\'a0guys provide useful scripts in the\'a0
\b bin
\b0 \'a0folder with the only requirement that\'a0{\field{\*\fldinst{HYPERLINK "http://www.oracle.com/technetwork/java/javase/downloads/index.html"}}{\fldrslt \cf15 JDK 1.7}}should be installed:\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sl440\sa200
\ls7\ilvl0
\b \cf8 {\listtext	\'95	}bin/collector
\b0 \
\ls7\ilvl0
\b {\listtext	\'95	}bin/query
\b0 \
\ls7\ilvl0
\b {\listtext	\'95	}bin/web
\b0 \
\pard\pardeftab720\sl440\sa360
\cf8 Let's execute these scripts and ensure that every component has been started successfully, with no stack traces on the console (for curious readers, I was not able to make\'a0{\field{\*\fldinst{HYPERLINK "http://twitter.github.io/zipkin/"}}{\fldrslt \cf15 Zipkin}}\'a0work on Windows so I assume we are running it on Linux box). By default,\'a0{\field{\*\fldinst{HYPERLINK "http://twitter.github.io/zipkin/"}}{\fldrslt \cf15 Zipkin}}\'a0web UI is available on port\'a0
\b 8080
\b0 . The storage for traces is embedded\'a0{\field{\*\fldinst{HYPERLINK "http://www.sqlite.org/"}}{\fldrslt \cf15 SQLite}}\'a0engine. Though it works, the better storages (like awesome\'a0{\field{\*\fldinst{HYPERLINK "http://redis.io/"}}{\fldrslt \cf15 Redis}}) are available.\
The preparation is over, let's do some code. We will start with\'a0{\field{\*\fldinst{HYPERLINK "https://jax-rs-spec.java.net/"}}{\fldrslt \cf15 JAX-RS 2.0}}\'a0client part as it's very straightforward (
\b ClientStarter.java
\b0 ):\
\pard\pardeftab720\sl440
{\field{\*\fldinst{HYPERLINK "http://java.dzone.com/articles/knowing-how-all-your#viewSource"}}{\fldrslt 
\f6\fs24 \cf16 \cb17 view source}}
\f6\fs24 \cf16 \cb17 \
\pard\pardeftab720\sl440

\f7 \cf8 \
\pard\pardeftab720\sl440
{\field{\*\fldinst{HYPERLINK "http://java.dzone.com/articles/knowing-how-all-your#printSource"}}{\fldrslt 
\f6 \cf16 print}}
\f6 \cf16 \
\pard\pardeftab720\sl440
{\field{\*\fldinst{HYPERLINK "http://java.dzone.com/articles/knowing-how-all-your#about"}}{\fldrslt \cf16 ?}}\
\pard\pardeftab720\sl440\qr

\fs30 \cf18 \cb19 01.\
\pard\pardeftab720\sl440
\cf20 \cb1 package\cf0  com.example.client;\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 02.\
\pard\pardeftab720\sl440
\cf0 \cb17 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 03.\
\pard\pardeftab720\sl440
\cf20 \cb1 import\cf0  javax.ws.rs.client.Client;\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 04.\
\pard\pardeftab720\sl440
\cf20 \cb17 import\cf0  javax.ws.rs.client.ClientBuilder;\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 05.\
\pard\pardeftab720\sl440
\cf20 \cb1 import\cf0  javax.ws.rs.core.MediaType;\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 06.\
\pard\pardeftab720\sl440
\cf20 \cb17 import\cf0  javax.ws.rs.core.Response;\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 07.\
\pard\pardeftab720\sl440
\cf0 \cb1 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 08.\
\pard\pardeftab720\sl440
\cf20 \cb17 import\cf0  com.example.zipkin.Zipkin;\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 09.\
\pard\pardeftab720\sl440
\cf20 \cb1 import\cf0  com.example.zipkin.client.ZipkinRequestFilter;\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 10.\
\pard\pardeftab720\sl440
\cf20 \cb17 import\cf0  com.example.zipkin.client.ZipkinResponseFilter;\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 11.\
\pard\pardeftab720\sl440
\cf0 \cb1 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 12.\
\pard\pardeftab720\sl440
\cf20 \cb17 public\cf0  \cf20 class\cf0  ClientStarter \{\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 13.\
\pard\pardeftab720\sl440
\cf20 \cb1 public\cf0  \cf20 static\cf0  \cf20 void\cf0  main( \cf20 final\cf0  String[] args ) \cf20 throws\cf0  Exception \{\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 14.\
\pard\pardeftab720\sl440
\cf20 \cb17 final\cf0  Client client = ClientBuilder\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 15.\
\pard\pardeftab720\sl440
\cf0 \cb1 .newClient()\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 16.\
\pard\pardeftab720\sl440
\cf0 \cb17 .register( \cf20 new\cf0  ZipkinRequestFilter( \cf21 "People"\cf0 , Zipkin.tracer() ), \cf22 1\cf0  )\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 17.\
\pard\pardeftab720\sl440
\cf0 \cb1 .register( \cf20 new\cf0  ZipkinResponseFilter( \cf21 "People"\cf0 , Zipkin.tracer() ), \cf22 1\cf0  );\'a0\'a0\'a0\'a0\'a0\'a0\'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 18.\
\pard\pardeftab720\sl440
\cf0 \cb17 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 19.\
\pard\pardeftab720\sl440
\cf20 \cb1 final\cf0  Response response = client\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 20.\
\pard\pardeftab720\sl440
\cf0 \cb17 .target( \cf21 "{\field{\*\fldinst{HYPERLINK "http://localhost/"}}{\fldrslt 
\f7 http://localhost}}:8080/rest/api/people"\cf0  )\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 21.\
\pard\pardeftab720\sl440
\cf0 \cb1 .request( MediaType.APPLICATION_JSON )\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 22.\
\pard\pardeftab720\sl440
\cf0 \cb17 .get();\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 23.\
\pard\pardeftab720\sl440
\cf0 \cb1 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 24.\
\pard\pardeftab720\sl440
\cf20 \cb17 if\cf0 ( response.getStatus() == \cf22 200\cf0  ) \{\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 25.\
\pard\pardeftab720\sl440
\cf0 \cb1 System.out.println( response.readEntity( String.\cf20 class\cf0  ) );\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 26.\
\pard\pardeftab720\sl440
\cf0 \cb17 \}\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 27.\
\pard\pardeftab720\sl440
\cf0 \cb1 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 28.\
\pard\pardeftab720\sl440
\cf0 \cb17 response.close();\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 29.\
\pard\pardeftab720\sl440
\cf0 \cb1 client.close();\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 30.\
\pard\pardeftab720\sl440
\cf0 \cb17 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 31.\
\pard\pardeftab720\sl440
\cf23 \cb1 // Small delay to allow tracer to send the trace over the wire\cf0 \
\pard\pardeftab720\sl440\qr
\cf18 \cb19 32.\
\pard\pardeftab720\sl440
\cf0 \cb17 Thread.sleep( \cf22 1000\cf0  );\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 33.\
\pard\pardeftab720\sl440
\cf0 \cb1 \}\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 34.\
\pard\pardeftab720\sl440
\cf0 \cb17 \}\
\pard\pardeftab720\sl440\sa360

\f7 \cf8 \cb1 Except a couple of imports and classes with\'a0
\b Zipkin
\b0 \'a0in it, everything should look simple. So what those
\b ZipkinRequestFilter
\b0 \'a0and\'a0
\b ZipkinResponseFilter
\b0 \'a0are for?\'a0{\field{\*\fldinst{HYPERLINK "http://twitter.github.io/zipkin/"}}{\fldrslt \cf15 Zipkin}}\'a0is awesome but it's not a magical tool. In order to trace any request in distributed system, there should be some context passed along with it. In
\b REST/HTTP
\b0 \'a0world, it's usually request/response headers. Let's take a look on\'a0
\b ZipkinRequestFilter
\b0 \'a0first (
\b ZipkinRequestFilter.scala
\b0 ):\
\pard\pardeftab720\sl440
{\field{\*\fldinst{HYPERLINK "http://java.dzone.com/articles/knowing-how-all-your#viewSource"}}{\fldrslt 
\f6\fs24 \cf16 \cb17 view source}}
\f6\fs24 \cf16 \cb17 \
\pard\pardeftab720\sl440

\f7 \cf8 \
\pard\pardeftab720\sl440
{\field{\*\fldinst{HYPERLINK "http://java.dzone.com/articles/knowing-how-all-your#printSource"}}{\fldrslt 
\f6 \cf16 print}}
\f6 \cf16 \
\pard\pardeftab720\sl440
{\field{\*\fldinst{HYPERLINK "http://java.dzone.com/articles/knowing-how-all-your#about"}}{\fldrslt \cf16 ?}}\
\pard\pardeftab720\sl440\qr

\fs30 \cf18 \cb19 01.\
\pard\pardeftab720\sl440
\cf20 \cb1 package\cf0  com.example.zipkin.client\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 02.\
\pard\pardeftab720\sl440
\cf0 \cb17 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 03.\
\pard\pardeftab720\sl440
\cf20 \cb1 import\cf0  javax.ws.rs.client.ClientRequestFilter\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 04.\
\pard\pardeftab720\sl440
\cf20 \cb17 import\cf0  javax.ws.rs.ext.Provider\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 05.\
\pard\pardeftab720\sl440
\cf20 \cb1 import\cf0  javax.ws.rs.client.ClientRequestContext\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 06.\
\pard\pardeftab720\sl440
\cf20 \cb17 import\cf0  com.twitter.finagle.http.HttpTracing\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 07.\
\pard\pardeftab720\sl440
\cf20 \cb1 import\cf0  com.twitter.finagle.tracing.Trace\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 08.\
\pard\pardeftab720\sl440
\cf20 \cb17 import\cf0  com.twitter.finagle.tracing.Annotation\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 09.\
\pard\pardeftab720\sl440
\cf20 \cb1 import\cf0  com.twitter.finagle.tracing.TraceId\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 10.\
\pard\pardeftab720\sl440
\cf20 \cb17 import\cf0  com.twitter.finagle.tracing.Tracer\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 11.\
\pard\pardeftab720\sl440
\cf0 \cb1 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 12.\
\pard\pardeftab720\sl440
\cf24 \cb17 @Provider\cf0 \
\pard\pardeftab720\sl440\qr
\cf18 \cb19 13.\
\pard\pardeftab720\sl440
\cf20 \cb1 class\cf0  ZipkinRequestFilter( val name: String, val tracer: Tracer ) \cf20 extends\cf0  ClientRequestFilter \{\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 14.\
\pard\pardeftab720\sl440
\cf0 \cb17 def filter( requestContext: ClientRequestContext ): Unit = \{\'a0\'a0\'a0\'a0\'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 15.\
\pard\pardeftab720\sl440
\cf0 \cb1 Trace.pushTracerAndSetNextId( tracer, \cf20 true\cf0  )\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 16.\
\pard\pardeftab720\sl440
\cf0 \cb17 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 17.\
\pard\pardeftab720\sl440
\cf0 \cb1 requestContext.getHeaders().add( HttpTracing.Header.TraceId, Trace.id.traceId.toString )\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 18.\
\pard\pardeftab720\sl440
\cf0 \cb17 requestContext.getHeaders().add( HttpTracing.Header.SpanId, Trace.id.spanId.toString )\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 19.\
\pard\pardeftab720\sl440
\cf0 \cb1 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 20.\
\pard\pardeftab720\sl440
\cf0 \cb17 Trace.id._parentId foreach \{ id =>\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 21.\
\pard\pardeftab720\sl440
\cf0 \cb1 requestContext.getHeaders().add( HttpTracing.Header.ParentSpanId, id.toString )\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 22.\
\pard\pardeftab720\sl440
\cf0 \cb17 \}\'a0\'a0\'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 23.\
\pard\pardeftab720\sl440
\cf0 \cb1 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 24.\
\pard\pardeftab720\sl440
\cf0 \cb17 Trace.id.sampled foreach \{ sampled =>\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 25.\
\pard\pardeftab720\sl440
\cf0 \cb1 requestContext.getHeaders().add( HttpTracing.Header.Sampled, sampled.toString )\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 26.\
\pard\pardeftab720\sl440
\cf0 \cb17 \}\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 27.\
\pard\pardeftab720\sl440
\cf0 \cb1 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 28.\
\pard\pardeftab720\sl440
\cf0 \cb17 requestContext.getHeaders().add( HttpTracing.Header.Flags, Trace.id.flags.toLong.toString )\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 29.\
\pard\pardeftab720\sl440
\cf0 \cb1 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 30.\
\pard\pardeftab720\sl440
\cf20 \cb17 if\cf0 ( Trace.isActivelyTracing ) \{\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 31.\
\pard\pardeftab720\sl440
\cf0 \cb1 Trace.recordRpcname( name,\'a0 requestContext.getMethod() )\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 32.\
\pard\pardeftab720\sl440
\cf0 \cb17 Trace.recordBinary( \cf21 "http.uri"\cf0 , requestContext.getUri().toString()\'a0 )\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 33.\
\pard\pardeftab720\sl440
\cf0 \cb1 Trace.record( Annotation.ClientSend() )\'a0\'a0\'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 34.\
\pard\pardeftab720\sl440
\cf0 \cb17 \}\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 35.\
\pard\pardeftab720\sl440
\cf0 \cb1 \}\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 36.\
\pard\pardeftab720\sl440
\cf0 \cb17 \}\
\pard\pardeftab720\sl440\sa360

\f7 \cf8 \cb1 A bit of\'a0{\field{\*\fldinst{HYPERLINK "http://twitter.github.io/zipkin/"}}{\fldrslt \cf15 Zipkin}}\'a0internals will make this code superclear. The central part of\'a0
\b Zipkin
\b0 \'a0API is\'a0
\b Trace
\b0 \'a0class. Every time we would like to initiate tracing, we should have a\'a0
\b Trace Id
\b0 \'a0and the\'a0
\b tracer
\b0 \'a0to actually trace it. This single line generates new\'a0
\b Trace Id
\b0 \'a0and register the tracer (internally this data is held in thread local state).\
\pard\pardeftab720\sl440
{\field{\*\fldinst{HYPERLINK "http://java.dzone.com/articles/knowing-how-all-your#viewSource"}}{\fldrslt 
\f6\fs24 \cf16 \cb17 view source}}
\f6\fs24 \cf16 \cb17 \
\pard\pardeftab720\sl440

\f7 \cf8 \
\pard\pardeftab720\sl440
{\field{\*\fldinst{HYPERLINK "http://java.dzone.com/articles/knowing-how-all-your#printSource"}}{\fldrslt 
\f6 \cf16 print}}
\f6 \cf16 \
\pard\pardeftab720\sl440
{\field{\*\fldinst{HYPERLINK "http://java.dzone.com/articles/knowing-how-all-your#about"}}{\fldrslt \cf16 ?}}\
\pard\pardeftab720\sl440\qr

\fs30 \cf18 \cb19 1.\
\pard\pardeftab720\sl440
\cf0 \cb1 Trace.pushTracerAndSetNextId( tracer, \cf20 true\cf0  )\
\pard\pardeftab720\sl440\sa360

\f7 \cf8 Traces are hierarchical by nature, so do\'a0
\b Trace Id
\b0 s: every\'a0
\b Trace Id
\b0 \'a0could be a root or part of another trace. In our example, we know for sure that we are the first and as such the root of the trace. Later on the\'a0
\b Trace Id
\b0 \'a0is wrapped into\'a0
\b HTTP
\b0 \'a0headers and will be passed along the request (we will see on server side how it is being used). The last three lines associate the useful information with the trace: name of our API (
\b People
\b0 ), HTTP method, URI and most importantly, that it's the\'a0
\b client sending the request
\b0 \'a0to the server.\
\pard\pardeftab720\sl440
{\field{\*\fldinst{HYPERLINK "http://java.dzone.com/articles/knowing-how-all-your#viewSource"}}{\fldrslt 
\f6\fs24 \cf16 \cb17 view source}}
\f6\fs24 \cf16 \cb17 \
\pard\pardeftab720\sl440

\f7 \cf8 \
\pard\pardeftab720\sl440
{\field{\*\fldinst{HYPERLINK "http://java.dzone.com/articles/knowing-how-all-your#printSource"}}{\fldrslt 
\f6 \cf16 print}}
\f6 \cf16 \
\pard\pardeftab720\sl440
{\field{\*\fldinst{HYPERLINK "http://java.dzone.com/articles/knowing-how-all-your#about"}}{\fldrslt \cf16 ?}}\
\pard\pardeftab720\sl440\qr

\fs30 \cf18 \cb19 1.\
\pard\pardeftab720\sl440
\cf0 \cb1 Trace.recordRpcname( name,\'a0 requestContext.getMethod() )\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 2.\
\pard\pardeftab720\sl440
\cf0 \cb17 Trace.recordBinary( \cf21 "http.uri"\cf0 , requestContext.getUri().toString()\'a0 )\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 3.\
\pard\pardeftab720\sl440
\cf0 \cb1 Trace.record( Annotation.ClientSend() )\
\pard\pardeftab720\sl440\sa360

\f7 \cf8 The\'a0
\b ZipkinResponseFilter
\b0 \'a0does the reverse to\'a0
\b ZipkinRequestFilter
\b0 \'a0and extract the\'a0
\b Trace Id
\b0 \'a0from the request headers (
\b ZipkinResponseFilter.scala
\b0 ):\
\pard\pardeftab720\sl440
{\field{\*\fldinst{HYPERLINK "http://java.dzone.com/articles/knowing-how-all-your#viewSource"}}{\fldrslt 
\f6\fs24 \cf16 \cb17 view source}}
\f6\fs24 \cf16 \cb17 \
\pard\pardeftab720\sl440

\f7 \cf8 \
\pard\pardeftab720\sl440
{\field{\*\fldinst{HYPERLINK "http://java.dzone.com/articles/knowing-how-all-your#printSource"}}{\fldrslt 
\f6 \cf16 print}}
\f6 \cf16 \
\pard\pardeftab720\sl440
{\field{\*\fldinst{HYPERLINK "http://java.dzone.com/articles/knowing-how-all-your#about"}}{\fldrslt \cf16 ?}}\
\pard\pardeftab720\sl440\qr

\fs30 \cf18 \cb19 01.\
\pard\pardeftab720\sl440
\cf20 \cb1 package\cf0  com.example.zipkin.client\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 02.\
\pard\pardeftab720\sl440
\cf0 \cb17 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 03.\
\pard\pardeftab720\sl440
\cf20 \cb1 import\cf0  javax.ws.rs.client.ClientResponseFilter\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 04.\
\pard\pardeftab720\sl440
\cf20 \cb17 import\cf0  javax.ws.rs.client.ClientRequestContext\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 05.\
\pard\pardeftab720\sl440
\cf20 \cb1 import\cf0  javax.ws.rs.client.ClientResponseContext\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 06.\
\pard\pardeftab720\sl440
\cf20 \cb17 import\cf0  javax.ws.rs.ext.Provider\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 07.\
\pard\pardeftab720\sl440
\cf20 \cb1 import\cf0  com.twitter.finagle.tracing.Trace\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 08.\
\pard\pardeftab720\sl440
\cf20 \cb17 import\cf0  com.twitter.finagle.tracing.Annotation\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 09.\
\pard\pardeftab720\sl440
\cf20 \cb1 import\cf0  com.twitter.finagle.tracing.SpanId\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 10.\
\pard\pardeftab720\sl440
\cf20 \cb17 import\cf0  com.twitter.finagle.http.HttpTracing\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 11.\
\pard\pardeftab720\sl440
\cf20 \cb1 import\cf0  com.twitter.finagle.tracing.TraceId\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 12.\
\pard\pardeftab720\sl440
\cf20 \cb17 import\cf0  com.twitter.finagle.tracing.Flags\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 13.\
\pard\pardeftab720\sl440
\cf20 \cb1 import\cf0  com.twitter.finagle.tracing.Tracer\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 14.\
\pard\pardeftab720\sl440
\cf0 \cb17 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 15.\
\pard\pardeftab720\sl440
\cf24 \cb1 @Provider\cf0 \
\pard\pardeftab720\sl440\qr
\cf18 \cb19 16.\
\pard\pardeftab720\sl440
\cf20 \cb17 class\cf0  ZipkinResponseFilter( val name: String, val tracer: Tracer ) \cf20 extends\cf0  ClientResponseFilter \{\'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 17.\
\pard\pardeftab720\sl440
\cf0 \cb1 def filter( requestContext: ClientRequestContext, responseContext: ClientResponseContext ): Unit = \{\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 18.\
\pard\pardeftab720\sl440
\cf0 \cb17 val spanId = SpanId.fromString( requestContext.getHeaders().getFirst( HttpTracing.Header.SpanId ).toString() )\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 19.\
\pard\pardeftab720\sl440
\cf0 \cb1 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 20.\
\pard\pardeftab720\sl440
\cf0 \cb17 spanId foreach \{ sid =>\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 21.\
\pard\pardeftab720\sl440
\cf0 \cb1 val traceId = SpanId.fromString( requestContext.getHeaders().getFirst( HttpTracing.Header.TraceId ).toString() )\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 22.\
\pard\pardeftab720\sl440
\cf0 \cb17 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 23.\
\pard\pardeftab720\sl440
\cf0 \cb1 val parentSpanId = requestContext.getHeaders().getFirst( HttpTracing.Header.ParentSpanId ) match \{\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 24.\
\pard\pardeftab720\sl440
\cf20 \cb17 case\cf0  s: String => SpanId.fromString( s.toString() )\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 25.\
\pard\pardeftab720\sl440
\cf20 \cb1 case\cf0  _ => None\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 26.\
\pard\pardeftab720\sl440
\cf0 \cb17 \}\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 27.\
\pard\pardeftab720\sl440
\cf0 \cb1 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 28.\
\pard\pardeftab720\sl440
\cf0 \cb17 val sampled = requestContext.getHeaders().getFirst( HttpTracing.Header.Sampled ) match \{\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 29.\
\pard\pardeftab720\sl440
\cf20 \cb1 case\cf0  s: String =>\'a0 s.toString.toBoolean\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 30.\
\pard\pardeftab720\sl440
\cf20 \cb17 case\cf0  _ => \cf20 true\cf0 \
\pard\pardeftab720\sl440\qr
\cf18 \cb19 31.\
\pard\pardeftab720\sl440
\cf0 \cb1 \}\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 32.\
\pard\pardeftab720\sl440
\cf0 \cb17 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 33.\
\pard\pardeftab720\sl440
\cf0 \cb1 val flags = Flags( requestContext.getHeaders().getFirst( HttpTracing.Header.Flags ).toString.toLong )\'a0\'a0\'a0\'a0\'a0\'a0\'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 34.\
\pard\pardeftab720\sl440
\cf0 \cb17 Trace.setId( TraceId( traceId, parentSpanId, sid, Option( sampled ), flags ) )\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 35.\
\pard\pardeftab720\sl440
\cf0 \cb1 \}\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 36.\
\pard\pardeftab720\sl440
\cf0 \cb17 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 37.\
\pard\pardeftab720\sl440
\cf20 \cb1 if\cf0 ( Trace.isActivelyTracing ) \{\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 38.\
\pard\pardeftab720\sl440
\cf0 \cb17 Trace.record( Annotation.ClientRecv() )\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 39.\
\pard\pardeftab720\sl440
\cf0 \cb1 \}\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 40.\
\pard\pardeftab720\sl440
\cf0 \cb17 \}\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 41.\
\pard\pardeftab720\sl440
\cf0 \cb1 \}\
\pard\pardeftab720\sl440\sa360

\f7 \cf8 Strictly speaking, in our example it's not necessary to extract the\'a0
\b Trace Id
\b0 \'a0from the request because both filters should be executed by the single thread. But the last line is very important: it marks the end of our trace by saying that\'a0
\b client has received the response
\b0 .\
\pard\pardeftab720\sl440
{\field{\*\fldinst{HYPERLINK "http://java.dzone.com/articles/knowing-how-all-your#viewSource"}}{\fldrslt 
\f6\fs24 \cf16 \cb17 view source}}
\f6\fs24 \cf16 \cb17 \
\pard\pardeftab720\sl440

\f7 \cf8 \
\pard\pardeftab720\sl440
{\field{\*\fldinst{HYPERLINK "http://java.dzone.com/articles/knowing-how-all-your#printSource"}}{\fldrslt 
\f6 \cf16 print}}
\f6 \cf16 \
\pard\pardeftab720\sl440
{\field{\*\fldinst{HYPERLINK "http://java.dzone.com/articles/knowing-how-all-your#about"}}{\fldrslt \cf16 ?}}\
\pard\pardeftab720\sl440\qr

\fs30 \cf18 \cb19 1.\
\pard\pardeftab720\sl440
\cf0 \cb1 Trace.record( Annotation.ClientRecv() )\
\pard\pardeftab720\sl440\sa360

\f7 \cf8 What's left is actually the tracer itself (
\b Zipkin.scala
\b0 ):\
\pard\pardeftab720\sl440
{\field{\*\fldinst{HYPERLINK "http://java.dzone.com/articles/knowing-how-all-your#viewSource"}}{\fldrslt 
\f6\fs24 \cf16 \cb17 view source}}
\f6\fs24 \cf16 \cb17 \
\pard\pardeftab720\sl440

\f7 \cf8 \
\pard\pardeftab720\sl440
{\field{\*\fldinst{HYPERLINK "http://java.dzone.com/articles/knowing-how-all-your#printSource"}}{\fldrslt 
\f6 \cf16 print}}
\f6 \cf16 \
\pard\pardeftab720\sl440
{\field{\*\fldinst{HYPERLINK "http://java.dzone.com/articles/knowing-how-all-your#about"}}{\fldrslt \cf16 ?}}\
\pard\pardeftab720\sl440\qr

\fs30 \cf18 \cb19 01.\
\pard\pardeftab720\sl440
\cf20 \cb1 package\cf0  com.example.zipkin\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 02.\
\pard\pardeftab720\sl440
\cf0 \cb17 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 03.\
\pard\pardeftab720\sl440
\cf20 \cb1 import\cf0  com.twitter.finagle.stats.DefaultStatsReceiver\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 04.\
\pard\pardeftab720\sl440
\cf20 \cb17 import\cf0  com.twitter.finagle.zipkin.thrift.ZipkinTracer\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 05.\
\pard\pardeftab720\sl440
\cf20 \cb1 import\cf0  com.twitter.finagle.tracing.Trace\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 06.\
\pard\pardeftab720\sl440
\cf20 \cb17 import\cf0  javax.ws.rs.ext.Provider\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 07.\
\pard\pardeftab720\sl440
\cf0 \cb1 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 08.\
\pard\pardeftab720\sl440
\cf0 \cb17 object Zipkin \{\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 09.\
\pard\pardeftab720\sl440
\cf0 \cb1 lazy val tracer = ZipkinTracer.mk( host = \cf21 "localhost"\cf0 , port = \cf22 9410\cf0 , DefaultStatsReceiver, \cf22 1\cf0  )\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 10.\
\pard\pardeftab720\sl440
\cf0 \cb17 \}\
\pard\pardeftab720\sl440\sa360

\f7 \cf8 \cb1 If at this point you are confused what all those traces and spans mean please look through\'a0{\field{\*\fldinst{HYPERLINK "http://twitter.github.io/zipkin/instrument.html"}}{\fldrslt \cf15 this documentation}}\'a0page, you will get the basic understanding of those concepts.\
At this point, there is nothing left on the client side and we are good to move to the server side. Our\'a0{\field{\*\fldinst{HYPERLINK "https://jax-rs-spec.java.net/"}}{\fldrslt \cf15 JAX-RS 2.0}}\'a0server will expose the single endpoint (
\b PeopleRestService.java
\b0 ):\
\pard\pardeftab720\sl440
{\field{\*\fldinst{HYPERLINK "http://java.dzone.com/articles/knowing-how-all-your#viewSource"}}{\fldrslt 
\f6\fs24 \cf16 \cb17 view source}}
\f6\fs24 \cf16 \cb17 \
\pard\pardeftab720\sl440

\f7 \cf8 \
\pard\pardeftab720\sl440
{\field{\*\fldinst{HYPERLINK "http://java.dzone.com/articles/knowing-how-all-your#printSource"}}{\fldrslt 
\f6 \cf16 print}}
\f6 \cf16 \
\pard\pardeftab720\sl440
{\field{\*\fldinst{HYPERLINK "http://java.dzone.com/articles/knowing-how-all-your#about"}}{\fldrslt \cf16 ?}}\
\pard\pardeftab720\sl440\qr

\fs30 \cf18 \cb19 01.\
\pard\pardeftab720\sl440
\cf20 \cb1 package\cf0  com.example.server.rs;\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 02.\
\pard\pardeftab720\sl440
\cf0 \cb17 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 03.\
\pard\pardeftab720\sl440
\cf20 \cb1 import\cf0  java.util.Arrays;\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 04.\
\pard\pardeftab720\sl440
\cf20 \cb17 import\cf0  java.util.Collection;\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 05.\
\pard\pardeftab720\sl440
\cf20 \cb1 import\cf0  java.util.concurrent.Callable;\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 06.\
\pard\pardeftab720\sl440
\cf0 \cb17 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 07.\
\pard\pardeftab720\sl440
\cf20 \cb1 import\cf0  javax.ws.rs.GET;\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 08.\
\pard\pardeftab720\sl440
\cf20 \cb17 import\cf0  javax.ws.rs.Path;\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 09.\
\pard\pardeftab720\sl440
\cf20 \cb1 import\cf0  javax.ws.rs.Produces;\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 10.\
\pard\pardeftab720\sl440
\cf0 \cb17 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 11.\
\pard\pardeftab720\sl440
\cf20 \cb1 import\cf0  com.example.model.Person;\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 12.\
\pard\pardeftab720\sl440
\cf20 \cb17 import\cf0  com.example.zipkin.Zipkin;\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 13.\
\pard\pardeftab720\sl440
\cf0 \cb1 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 14.\
\pard\pardeftab720\sl440
\cf24 \cb17 @Path\cf0 ( \cf21 "/people"\cf0  )\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 15.\
\pard\pardeftab720\sl440
\cf20 \cb1 public\cf0  \cf20 class\cf0  PeopleRestService \{\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 16.\
\pard\pardeftab720\sl440
\cf24 \cb17 @Produces\cf0 ( \{ \cf21 "application/json"\cf0  \} )\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 17.\
\pard\pardeftab720\sl440
\cf24 \cb1 @GET\cf0 \
\pard\pardeftab720\sl440\qr
\cf18 \cb19 18.\
\pard\pardeftab720\sl440
\cf20 \cb17 public\cf0  Collection< Person > getPeople() \{\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 19.\
\pard\pardeftab720\sl440
\cf20 \cb1 return\cf0  Zipkin.invoke( \cf21 "DB"\cf0 , \cf21 "FIND ALL"\cf0 , \cf20 new\cf0  Callable< Collection< Person > >() \{\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 20.\
\pard\pardeftab720\sl440
\cf24 \cb17 @Override\cf0 \
\pard\pardeftab720\sl440\qr
\cf18 \cb19 21.\
\pard\pardeftab720\sl440
\cf20 \cb1 public\cf0  Collection<person> call() \cf20 throws\cf0  Exception \{\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 22.\
\pard\pardeftab720\sl440
\cf20 \cb17 return\cf0  Arrays.asList( \cf20 new\cf0  Person( \cf21 "Tom"\cf0 , \cf21 "Bombdil"\cf0  ) );\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 23.\
\pard\pardeftab720\sl440
\cf0 \cb1 \}\'a0\'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 24.\
\pard\pardeftab720\sl440
\cf0 \cb17 \} );\'a0\'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 25.\
\pard\pardeftab720\sl440
\cf0 \cb1 \}\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 26.\
\pard\pardeftab720\sl440
\cf0 \cb17 \}\
\pard\pardeftab720\sl440\sa360

\f7 \cf8 \cb1 As we mentioned before, we will simulate the access to database and generate a child trace by using\'a0
\b Zipkin.invoke
\b0 \'a0wrapper (which looks very simple,\'a0
\b Zipkin.scala
\b0 ):\
\pard\pardeftab720\sl440
{\field{\*\fldinst{HYPERLINK "http://java.dzone.com/articles/knowing-how-all-your#viewSource"}}{\fldrslt 
\f6\fs24 \cf16 \cb17 view source}}
\f6\fs24 \cf16 \cb17 \
\pard\pardeftab720\sl440

\f7 \cf8 \
\pard\pardeftab720\sl440
{\field{\*\fldinst{HYPERLINK "http://java.dzone.com/articles/knowing-how-all-your#printSource"}}{\fldrslt 
\f6 \cf16 print}}
\f6 \cf16 \
\pard\pardeftab720\sl440
{\field{\*\fldinst{HYPERLINK "http://java.dzone.com/articles/knowing-how-all-your#about"}}{\fldrslt \cf16 ?}}\
\pard\pardeftab720\sl440\qr

\fs30 \cf18 \cb19 01.\
\pard\pardeftab720\sl440
\cf20 \cb1 package\cf0  com.example.zipkin\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 02.\
\pard\pardeftab720\sl440
\cf0 \cb17 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 03.\
\pard\pardeftab720\sl440
\cf20 \cb1 import\cf0  java.util.concurrent.Callable\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 04.\
\pard\pardeftab720\sl440
\cf20 \cb17 import\cf0  com.twitter.finagle.stats.DefaultStatsReceiver\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 05.\
\pard\pardeftab720\sl440
\cf20 \cb1 import\cf0  com.twitter.finagle.tracing.Trace\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 06.\
\pard\pardeftab720\sl440
\cf20 \cb17 import\cf0  com.twitter.finagle.zipkin.thrift.ZipkinTracer\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 07.\
\pard\pardeftab720\sl440
\cf20 \cb1 import\cf0  com.twitter.finagle.tracing.Annotation\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 08.\
\pard\pardeftab720\sl440
\cf0 \cb17 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 09.\
\pard\pardeftab720\sl440
\cf0 \cb1 object Zipkin \{\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 10.\
\pard\pardeftab720\sl440
\cf0 \cb17 lazy val tracer = ZipkinTracer.mk( host = \cf21 "localhost"\cf0 , port = \cf22 9410\cf0 , DefaultStatsReceiver, \cf22 1\cf0  )\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 11.\
\pard\pardeftab720\sl440
\cf0 \cb1 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 12.\
\pard\pardeftab720\sl440
\cf0 \cb17 def invoke[ R ]( service: String, method: String, callable: Callable[ R ] ): R = Trace.unwind \{\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 13.\
\pard\pardeftab720\sl440
\cf0 \cb1 Trace.pushTracerAndSetNextId( tracer, \cf20 false\cf0  )\'a0\'a0\'a0\'a0\'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 14.\
\pard\pardeftab720\sl440
\cf0 \cb17 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 15.\
\pard\pardeftab720\sl440
\cf0 \cb1 Trace.recordRpcname( service, method );\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 16.\
\pard\pardeftab720\sl440
\cf0 \cb17 Trace.record( \cf20 new\cf0  Annotation.ClientSend() );\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 17.\
\pard\pardeftab720\sl440
\cf0 \cb1 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 18.\
\pard\pardeftab720\sl440
\cf20 \cb17 try\cf0  \{\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 19.\
\pard\pardeftab720\sl440
\cf0 \cb1 callable.call()\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 20.\
\pard\pardeftab720\sl440
\cf0 \cb17 \} \cf20 finally\cf0  \{\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 21.\
\pard\pardeftab720\sl440
\cf0 \cb1 Trace.record( \cf20 new\cf0  Annotation.ClientRecv() );\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 22.\
\pard\pardeftab720\sl440
\cf0 \cb17 \}\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 23.\
\pard\pardeftab720\sl440
\cf0 \cb1 \}\'a0\'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 24.\
\pard\pardeftab720\sl440
\cf0 \cb17 \}\
\pard\pardeftab720\sl440\sa360

\f7 \cf8 \cb1 As we can see, in this case the server itself becomes a client for some other service (database).\
The last and most important part of the server is to intercept all\'a0
\b HTTP
\b0 \'a0requests, extract the\'a0
\b Trace Id
\b0 \'a0from them so it will be possible to associate more data with the trace (annotate the trace). In\'a0{\field{\*\fldinst{HYPERLINK "http://cxf.apache.org/"}}{\fldrslt \cf15 Apache CXF}}\'a0it's very easy to do by providing own invoker (
\b ZipkinTracingInvoker.scala
\b0 ):\
\pard\pardeftab720\sl440
{\field{\*\fldinst{HYPERLINK "http://java.dzone.com/articles/knowing-how-all-your#viewSource"}}{\fldrslt 
\f6\fs24 \cf16 \cb17 view source}}
\f6\fs24 \cf16 \cb17 \
\pard\pardeftab720\sl440

\f7 \cf8 \
\pard\pardeftab720\sl440
{\field{\*\fldinst{HYPERLINK "http://java.dzone.com/articles/knowing-how-all-your#printSource"}}{\fldrslt 
\f6 \cf16 print}}
\f6 \cf16 \
\pard\pardeftab720\sl440
{\field{\*\fldinst{HYPERLINK "http://java.dzone.com/articles/knowing-how-all-your#about"}}{\fldrslt \cf16 ?}}\
\pard\pardeftab720\sl440\qr

\fs30 \cf18 \cb19 01.\
\pard\pardeftab720\sl440
\cf20 \cb1 package\cf0  com.example.zipkin.server\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 02.\
\pard\pardeftab720\sl440
\cf0 \cb17 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 03.\
\pard\pardeftab720\sl440
\cf20 \cb1 import\cf0  org.apache.cxf.jaxrs.JAXRSInvoker\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 04.\
\pard\pardeftab720\sl440
\cf20 \cb17 import\cf0  com.twitter.finagle.tracing.TraceId\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 05.\
\pard\pardeftab720\sl440
\cf20 \cb1 import\cf0  org.apache.cxf.message.Exchange\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 06.\
\pard\pardeftab720\sl440
\cf20 \cb17 import\cf0  com.twitter.finagle.tracing.Trace\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 07.\
\pard\pardeftab720\sl440
\cf20 \cb1 import\cf0  com.twitter.finagle.tracing.Annotation\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 08.\
\pard\pardeftab720\sl440
\cf20 \cb17 import\cf0  org.apache.cxf.jaxrs.model.OperationResourceInfo\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 09.\
\pard\pardeftab720\sl440
\cf20 \cb1 import\cf0  org.apache.cxf.jaxrs.ext.MessageContextImpl\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 10.\
\pard\pardeftab720\sl440
\cf20 \cb17 import\cf0  com.twitter.finagle.tracing.SpanId\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 11.\
\pard\pardeftab720\sl440
\cf20 \cb1 import\cf0  com.twitter.finagle.http.HttpTracing\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 12.\
\pard\pardeftab720\sl440
\cf20 \cb17 import\cf0  com.twitter.finagle.tracing.Flags\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 13.\
\pard\pardeftab720\sl440
\cf20 \cb1 import\cf0  scala.collection.JavaConversions._\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 14.\
\pard\pardeftab720\sl440
\cf20 \cb17 import\cf0  com.twitter.finagle.tracing.Tracer\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 15.\
\pard\pardeftab720\sl440
\cf20 \cb1 import\cf0  javax.inject.Inject\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 16.\
\pard\pardeftab720\sl440
\cf0 \cb17 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 17.\
\pard\pardeftab720\sl440
\cf20 \cb1 class\cf0  ZipkinTracingInvoker \cf20 extends\cf0  JAXRSInvoker \{\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 18.\
\pard\pardeftab720\sl440
\cf24 \cb17 @Inject\cf0  val tracer: Tracer = \cf20 null\cf0 \
\pard\pardeftab720\sl440\qr
\cf18 \cb19 19.\
\pard\pardeftab720\sl440
\cf0 \cb1 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 20.\
\pard\pardeftab720\sl440
\cf0 \cb17 def trace[ R ]( exchange: Exchange )( block: => R ): R = \{\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 21.\
\pard\pardeftab720\sl440
\cf0 \cb1 val context = \cf20 new\cf0  MessageContextImpl( exchange.getInMessage() )\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 22.\
\pard\pardeftab720\sl440
\cf0 \cb17 Trace.pushTracer( tracer )\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 23.\
\pard\pardeftab720\sl440
\cf0 \cb1 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 24.\
\pard\pardeftab720\sl440
\cf0 \cb17 val id = Option( exchange.get( classOf[ OperationResourceInfo ] ) ) map \{ ori =>\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 25.\
\pard\pardeftab720\sl440
\cf0 \cb1 context.getHttpHeaders().getRequestHeader( HttpTracing.Header.SpanId ).toList match \{\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 26.\
\pard\pardeftab720\sl440
\cf20 \cb17 case\cf0  x :: xs => SpanId.fromString( x ) map \{ sid =>\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 27.\
\pard\pardeftab720\sl440
\cf0 \cb1 val traceId = context.getHttpHeaders().getRequestHeader( HttpTracing.Header.TraceId ).toList match \{\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 28.\
\pard\pardeftab720\sl440
\cf20 \cb17 case\cf0  x :: xs => SpanId.fromString( x )\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 29.\
\pard\pardeftab720\sl440
\cf20 \cb1 case\cf0  _ => None\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 30.\
\pard\pardeftab720\sl440
\cf0 \cb17 \}\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 31.\
\pard\pardeftab720\sl440
\cf0 \cb1 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 32.\
\pard\pardeftab720\sl440
\cf0 \cb17 val parentSpanId = context.getHttpHeaders().getRequestHeader( HttpTracing.Header.ParentSpanId ).toList match \{\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 33.\
\pard\pardeftab720\sl440
\cf20 \cb1 case\cf0  x :: xs => SpanId.fromString( x )\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 34.\
\pard\pardeftab720\sl440
\cf20 \cb17 case\cf0  _ => None\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 35.\
\pard\pardeftab720\sl440
\cf0 \cb1 \}\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 36.\
\pard\pardeftab720\sl440
\cf0 \cb17 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 37.\
\pard\pardeftab720\sl440
\cf0 \cb1 val sampled = context.getHttpHeaders().getRequestHeader( HttpTracing.Header.Sampled ).toList match \{\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 38.\
\pard\pardeftab720\sl440
\cf20 \cb17 case\cf0  x :: xs =>\'a0 x.toBoolean\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 39.\
\pard\pardeftab720\sl440
\cf20 \cb1 case\cf0  _ => \cf20 true\cf0 \
\pard\pardeftab720\sl440\qr
\cf18 \cb19 40.\
\pard\pardeftab720\sl440
\cf0 \cb17 \}\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 41.\
\pard\pardeftab720\sl440
\cf0 \cb1 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 42.\
\pard\pardeftab720\sl440
\cf0 \cb17 val flags = context.getHttpHeaders().getRequestHeader( HttpTracing.Header.Flags ).toList match \{\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 43.\
\pard\pardeftab720\sl440
\cf20 \cb1 case\cf0  x :: xs =>\'a0 Flags( x.toLong )\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 44.\
\pard\pardeftab720\sl440
\cf20 \cb17 case\cf0  _ => Flags()\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 45.\
\pard\pardeftab720\sl440
\cf0 \cb1 \}\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 46.\
\pard\pardeftab720\sl440
\cf0 \cb17 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 47.\
\pard\pardeftab720\sl440
\cf0 \cb1 val id = TraceId( traceId, parentSpanId, sid, Option( sampled ), flags )\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 48.\
\pard\pardeftab720\sl440
\cf0 \cb17 Trace.setId( id )\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 49.\
\pard\pardeftab720\sl440
\cf0 \cb1 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 50.\
\pard\pardeftab720\sl440
\cf20 \cb17 if\cf0 ( Trace.isActivelyTracing ) \{\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 51.\
\pard\pardeftab720\sl440
\cf0 \cb1 Trace.recordRpcname( context.getHttpServletRequest().getProtocol(), ori.getHttpMethod() )\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 52.\
\pard\pardeftab720\sl440
\cf0 \cb17 Trace.record( Annotation.ServerRecv() )\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 53.\
\pard\pardeftab720\sl440
\cf0 \cb1 \}\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 54.\
\pard\pardeftab720\sl440
\cf0 \cb17 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 55.\
\pard\pardeftab720\sl440
\cf0 \cb1 id\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 56.\
\pard\pardeftab720\sl440
\cf0 \cb17 \}\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 57.\
\pard\pardeftab720\sl440
\cf0 \cb1 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 58.\
\pard\pardeftab720\sl440
\cf20 \cb17 case\cf0  _ => None\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 59.\
\pard\pardeftab720\sl440
\cf0 \cb1 \}\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 60.\
\pard\pardeftab720\sl440
\cf0 \cb17 \}\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 61.\
\pard\pardeftab720\sl440
\cf0 \cb1 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 62.\
\pard\pardeftab720\sl440
\cf0 \cb17 val result = block\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 63.\
\pard\pardeftab720\sl440
\cf0 \cb1 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 64.\
\pard\pardeftab720\sl440
\cf20 \cb17 if\cf0 ( Trace.isActivelyTracing ) \{\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 65.\
\pard\pardeftab720\sl440
\cf0 \cb1 id map \{ id => Trace.record( \cf20 new\cf0  Annotation.ServerSend() ) \}\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 66.\
\pard\pardeftab720\sl440
\cf0 \cb17 \}\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 67.\
\pard\pardeftab720\sl440
\cf0 \cb1 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 68.\
\pard\pardeftab720\sl440
\cf0 \cb17 result\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 69.\
\pard\pardeftab720\sl440
\cf0 \cb1 \}\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 70.\
\pard\pardeftab720\sl440
\cf0 \cb17 \'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 71.\
\pard\pardeftab720\sl440
\cf24 \cb1 @Override\cf0 \
\pard\pardeftab720\sl440\qr
\cf18 \cb19 72.\
\pard\pardeftab720\sl440
\cf0 \cb17 override def invoke( exchange: Exchange, parametersList: AnyRef ): AnyRef = \{\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 73.\
\pard\pardeftab720\sl440
\cf0 \cb1 trace( exchange )( \cf20 super\cf0 .invoke( exchange, parametersList ) )\'a0\'a0\'a0\'a0\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 74.\
\pard\pardeftab720\sl440
\cf0 \cb17 \}\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 75.\
\pard\pardeftab720\sl440
\cf0 \cb1 \}\
\pard\pardeftab720\sl440\sa360

\f7 \cf8 Basically, the only thing this code does is extracting\'a0
\b Trace Id
\b0 \'a0from request and associating it with the current thread. Also please notice that we associate additional data with the trace marking the\'a0
\b server\'a0
\b0 participation.\
\pard\pardeftab720\sl440
{\field{\*\fldinst{HYPERLINK "http://java.dzone.com/articles/knowing-how-all-your#viewSource"}}{\fldrslt 
\f6\fs24 \cf16 \cb17 view source}}
\f6\fs24 \cf16 \cb17 \
\pard\pardeftab720\sl440

\f7 \cf8 \
\pard\pardeftab720\sl440
{\field{\*\fldinst{HYPERLINK "http://java.dzone.com/articles/knowing-how-all-your#printSource"}}{\fldrslt 
\f6 \cf16 print}}
\f6 \cf16 \
\pard\pardeftab720\sl440
{\field{\*\fldinst{HYPERLINK "http://java.dzone.com/articles/knowing-how-all-your#about"}}{\fldrslt \cf16 ?}}\
\pard\pardeftab720\sl440\qr

\fs30 \cf18 \cb19 1.\
\pard\pardeftab720\sl440
\cf0 \cb1 Trace.recordRpcname( context.getHttpServletRequest().getProtocol(), ori.getHttpMethod() )\
\pard\pardeftab720\sl440\qr
\cf18 \cb19 2.\
\pard\pardeftab720\sl440
\cf0 \cb17 Trace.record( Annotation.ServerRecv() )\
\pard\pardeftab720\sl440\sa360

\f7 \cf8 \cb1 To see the tracing in live, let's start our server (please notice that\'a0{\field{\*\fldinst{HYPERLINK "http://www.scala-sbt.org/"}}{\fldrslt \cf15 sbt}}\'a0should be\'a0{\field{\*\fldinst{HYPERLINK "http://www.scala-sbt.org/release/docs/Getting-Started/Setup.html"}}{\fldrslt \cf15 installed}}), assuming all\'a0{\field{\*\fldinst{HYPERLINK "http://twitter.github.io/zipkin/"}}{\fldrslt \cf15 Zipkin}}components and\'a0{\field{\*\fldinst{HYPERLINK "http://zookeeper.apache.org/"}}{\fldrslt \cf15 Apache Zookeeper}}\'a0are already up and running:\
\pard\pardeftab720\sl440
\cf8 sbt 'project server' 'run-main com.example.server.ServerStarter'\
\pard\pardeftab720\sl440\sa360
\cf8 then the client:\
\pard\pardeftab720\sl440
\cf8 sbt 'project client' 'run-main com.example.client.ClientStarter'\
\pard\pardeftab720\sl440\sa360
\cf8 and finally open\'a0{\field{\*\fldinst{HYPERLINK "http://twitter.github.io/zipkin/"}}{\fldrslt \cf15 Zipkin}}\'a0web UI at\'a0{\field{\*\fldinst{HYPERLINK "http://localhost:8080/"}}{\fldrslt \cf15 http://localhost:8080}}. We should see something like that (depending how many times you have run the client):\
\pard\pardeftab720\sl440
\cf8 \
\pard\pardeftab720\sl440\sa360
\cf8 Alternatively, we can build and run fat JARs using\'a0{\field{\*\fldinst{HYPERLINK "https://github.com/sbt/sbt-assembly"}}{\fldrslt \cf15 sbt-assembly}}\'a0plugin:\
\pard\pardeftab720\sl440
\cf8 sbt assembly\
java -jar server/target/zipkin-jaxrs-2.0-server-assembly-0.0.1-SNAPSHOT.jar \
java -jar client/target/zipkin-jaxrs-2.0-client-assembly-0.0.1-SNAPSHOT.jar \
\pard\pardeftab720\sl440\sa360
\cf8 If we click on any particular trace, the more detailed information will be shown, much resembling\'a0
\b client <-> server <-> database
\b0 \'a0chain.\
\pard\pardeftab720\sl440
\cf8 \
\pard\pardeftab720\sl440\sa360
\cf8 Even more details are shown when we click on particular element in the tree.\
\pard\pardeftab720\sl440
\cf8 \
\pard\pardeftab720\sl440\sa360
\cf8 Lastly, the bonus part is components / services dependency graph.\
\pard\pardeftab720\sl440
\cf8 \
\pard\pardeftab720\sl440\sa360
\cf8 As we can see, all the data associated with the trace is here and follows hierarchical structure. The root and child traces are detected and shown, as well as timelines for client\'a0
\b send/receive
\b0 \'a0and server\'a0
\b receive/send
\b0 chains. Our example is quite naive and simple, but even like that it demonstrates how powerful and useful distributed system tracing is. Thanks to\'a0{\field{\*\fldinst{HYPERLINK "http://twitter.github.io/zipkin/"}}{\fldrslt \cf15 Zipkin}}\'a0guys.\
The complete source code is available on\'a0{\field{\*\fldinst{HYPERLINK "https://github.com/reta/zipkin-jaxrs-2.0"}}{\fldrslt \cf15 GitHub}}.({\field{\*\fldinst{HYPERLINK "https://github.com/reta/zipkin-jaxrs-2.0"}}{\fldrslt https://github.com/reta/zipkin-jaxrs-2.0}})\
\
\
Option[Any] foreach
\f8 \'d3\'d0\'d6\'b5\'b5\'c4\'ca\'b1\'ba\'f2\'d6\'b4\'d0\'d0\
\
\
TraceInitializerFilter\
\
\
\
\pard\pardeftab720\sl440\sa360

\fs48 \cf25 github command line\
ssh-keygen -t rsa -C guoyang2011@gmail.com\
git config \'a1\'aaglobal user.name guoyang2011\
git config \'a1\'aaglobal user.email guoyang2011@gmail.com\
git init\
git add .\
git commit -m \'a1\'b0init \'a1\'ad\'a1\'b1\
git remote add local git@github.com:guoyang2011/finagle.git\
git pull local master\
git push -u local master
\f7 \
\pard\pardeftab720\sl440

\fs30 \cf8 \
\pard\tx566\pardeftab720\sl500

\f0\fs32 \cf5 \
\pard\pardeftab720\sl640\sa320

\f4\b\fs54 \cf5 kestrel  twitter 
\f0 \'bf\'aa\'d4\'b4\'cf\'fb\'cf\'a2\'d6\'d0\'bc\'e4\'bc\'fe
\f4  scala\
{\field{\*\fldinst{HYPERLINK "http://stevenskelton.ca/finagle-serverset-clusters-using-zookeeper/"}}{\fldrslt http://stevenskelton.ca/finagle-serverset-clusters-using-zookeeper/}} finagle
\f0 \'bc\'af\'c8\'ba\'c9\'e8\'d6\'c3
\f4 \
(
\fs72 \cf0 Finagle ServerSet Clusters using Zookeeper
\fs54 \cf5 )\
http://blog.oskarsson.nu/post/40196324612/the-twitter-stack finagle
\f0 \'cf\'ee\'c4\'bf\'d6\'d0\'d6\'d8\'d2\'aa\'d7\'d3\'cf\'ee\'c4\'bf\'c8\'ab\'c3\'e6\'bd\'e9\'c9\'dc
\f4 \
\pard\tx566\pardeftab720\sl500

\f0\b0\fs32 \cf5 \
\
\pard\pardeftab720

\f4\b\fs40 \cf0 The Twitter stack
\b0\fs26 \
\pard\pardeftab720\sa200
\cf0 For various reasons, including performance and cost, Twitter has poured significant engineering effort into breaking down the site backend into smaller JVM based services. As a nice side effect we\'92ve been able to open source several of the libraries and other useful tools that came out of this effort.\
While there is a fair amount of information about these projects available as docs or slides I found no simple, high level introduction to what we can unofficially call the Twitter stack. So here it is. It\'92s worth noting that all this information is about open source projects, that it is public already and that I am not writing this as part of my job at Twitter or on their behalf.\
Now, granted these were not all conceived at Twitter and plenty of other companies have similar solutions. However I think the software mentioned below is quite powerful and with most of it released as open source it is a fairly compelling platform to base new services off of.\
I will describe the projects from a Scala perspective, but quite a few are useful in Java programs as well. See the {\field{\*\fldinst{HYPERLINK "http://twitter.github.com/scala_school/"}}{\fldrslt \cf26 Twitter Scala}} school for an intro to the language, although that is not required to understand this post.\
\pard\pardeftab720

\b\fs40 \cf0 Finagle
\b0\fs26 \
\pard\pardeftab720\sa200
\cf0 At the heart of a service lies the {\field{\*\fldinst{HYPERLINK "https://github.com/twitter/finagle"}}{\fldrslt \cf26 Finagle}} library. By abstracting away the fundamental underpinnings of an RPC system, Finagle greatly reduces the complexity that service developers have to deal with. It allows us to focus on writing application-specific business logic instead of dwelling on lower level details of distributed systems. Ultimately the website itself uses these services to perform operations or fetch data needed to render the HTML. At Twitter the internal services use the {\field{\*\fldinst{HYPERLINK "http://thrift.apache.org/"}}{\fldrslt \cf26 Thrift}} protocol, but Finagle supports other protocols too such as Protocol buffers and HTTP.\uc0\u8232 \u8232 
\b Setting up a service using Finagle
\b0 \uc0\u8232 A quick dive into how you would set up a Thrift service using Finagle.\u8232 \
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls8\ilvl0\cf0 {\listtext	1.	}Write a Thrift file defining your API. It should contain the structs, exceptions and methods needed to describe the service functionality. See {\field{\*\fldinst{HYPERLINK "http://thrift.apache.org/docs/idl/"}}{\fldrslt \cf26 Thrift Interface Description Language (IDL) docs}}, in particular the examples at the end for more info.\
{\listtext	2.	}Use the Thrift file as input for a code generator that spits out code in your language. For Scala and Finagle based projects I would recommend {\field{\*\fldinst{HYPERLINK "https://github.com/twitter/scrooge"}}{\fldrslt \cf26 Scrooge}}.\
{\listtext	3.	}Implement the Scala trait generated from your Thrift IDL. This is where the actual functionality of your service goes.\
{\listtext	4.	}Provide the Finagle server builder an instance of the implementation above, a port to bind to and any other settings you might need and start it up.\
\pard\pardeftab720\sa200
\cf0 \uc0\u8232 That looks pretty similar to just using plain Thrift without Finagle. However, there are quite a few improvements such as excellent monitoring support, tracing and Finagle makes it easy to write your service in an asynchronous fashion. More about these features later.\u8232 \u8232 You can also use Finagle as a client. It takes care of all the boring stuff such as timeouts, retries and load balancing for you.\u8232 \
\pard\pardeftab720

\b\fs40 \cf0 Ostrich
\b0\fs26 \
\pard\pardeftab720\sa200
\cf0 So let\'92s say we have a Finagle Thrift service running. It\'92s doing very important work. Obviously you want to make sure it keeps doing that work and that it performs well. This is where {\field{\*\fldinst{HYPERLINK "https://github.com/twitter/ostrich"}}{\fldrslt \cf26 Ostrich}} comes in.\uc0\u8232 \u8232 
\b Metrics
\b0 \uc0\u8232 Ostrich makes it easy to expose various metrics from your service. Let\'92s say you want to count how many times a particular piece of code is run. In your service you\'92d write a line of code that looks something like this:\u8232 \u8232 
\f9\fs22 Stats.incr(\'93some_important_counter\'94)
\f4\fs26 \uc0\u8232 \u8232 As simple as that. The counter named some_important_counter will be incremented by 1. \u8232 \u8232 In addition to just straight up counters you can get gauges that report on the value of a variable:\u8232 \u8232 
\f9\fs22 Stats.addGauge("current_temperature") \{ myThermometer.temperature \}
\f4\fs26 \uc0\u8232 \u8232 or you can time a snippet of code to track the performance\u8232 \u8232 
\f9\fs22 Stats.time("translation") \{\uc0\u8232 \'a0document.translate("de", "en")\u8232 \}
\f4\fs26 \uc0\u8232 \u8232 Those and other examples can be found in the {\field{\*\fldinst{HYPERLINK "https://github.com/twitter/ostrich"}}{\fldrslt \cf26 Ostrich readme}}.\uc0\u8232 \u8232 
\b Export metrics
\b0 \uc0\u8232 Ostrich runs a small http admin interface to expose these metrics and other functionality. To fetch them you would simply hit http://hostname:port/stats.json to get the current snapshot of the metrics as JSON. At Twitter the stats from each service will be ingested from Ostrich by our internal observability stack, providing us with fancy graphs, alerting and so on.\u8232 \u8232 To tie this back to our previous section: If you provide a Finagle client or server builder with an Ostrich backed StatsReceiver it\'92ll happily splurt out tons of metrics about how the service is performing, the latencies for the RPC calls and the number of calls to each method to name a few.\u8232 \u8232 Ostrich can also deal with configuring your service, shutting down all the components gracefully and more.\
\uc0\u8232 \u8232 This is an example of what a dashboard could look like with stats gathered from Ostrich by our observability stack. Screenshot from @raffi\'92s {\field{\*\fldinst{HYPERLINK "http://www.slideshare.net/raffikrikorian/realtime-systems-at-twitter"}}{\fldrslt \cf26 presentation}} deck.\uc0\u8232 \u8232 \
\pard\pardeftab720

\b\fs40 \cf0 Zipkin
\b0\fs26 \
\pard\pardeftab720\sa200
\cf0 Ostrich and Finagle combined gives us good service level metrics. However, one downside of a more service oriented architecture is that it\'92s hard to get a high level performance overview of a single request throughout the stack.\'a0\uc0\u8232 Perhaps you are a developer tasked with improving performance of a particular external api endpoint. With Zipkin you can get a visual representation of where most of the time to fulfill the request was spent. Think Firebug or Chrome developer tools for the back end. {\field{\*\fldinst{HYPERLINK "https://github.com/twitter/zipkin/"}}{\fldrslt \cf26 Zipkin}} is a implementation of a tracing system based off of the Google Dapper paper.\uc0\u8232 \u8232 
\b Finagle-Zipkin
\b0 \uc0\u8232 So how does it work? There\'92s a {\field{\*\fldinst{HYPERLINK "https://github.com/twitter/finagle/tree/master/finagle-zipkin"}}{\fldrslt \cf26 finagle-zipkin}} module that will hook into the transmission logic of Finagle and time each operation performed by the service. It also passes request identifiers down to any services it relies on, this is how we can tie all the tracing data together. The tracing data is logged to the Zipkin backend and finally we can display and visualize that data in the Zipkin UI.\uc0\u8232 \u8232 Let\'92s say we use Zipkin to inspect a request and we see that it spent most of it\'92s time waiting for a query to a MySQL database. We could then also see the actual SQL query sent and draw some conclusions from it. Other times perhaps a GC in a Scala service was a fault. Either way, the hope is that a glance at the trace view will reveal where the developer should spend effort improving performance.\u8232 \u8232 Enabling tracing for Finagle services is often as simple as adding\
\pard\pardeftab720\sa200

\f9\fs22 \cf0 .tracerFactory(ZipkinTracer())
\f4\fs26 \
to your ClientBuilder or ServerBuilder. Setting up the whole Zipkin stack is a bit more work though, check out the docs for further assistance.\
\uc0\u8232 \u8232 Trace view, taken from my Strange loop {\field{\*\fldinst{HYPERLINK "http://www.slideshare.net/johanoskarsson/zipkin-strangeloop"}}{\fldrslt \cf26 talk}} about Zipkin.\uc0\u8232 \
\pard\pardeftab720

\b\fs40 \cf0 Mesos
\b0\fs26 \
\pard\pardeftab720\sa200
{\field{\*\fldinst{HYPERLINK "http://incubator.apache.org/mesos/"}}{\fldrslt \cf26 Mesos}} describes itself as \'93a cluster manager that provides efficient resource isolation and sharing across distributed applications, or frameworks\'94. I\'92ll try to go through this section without using buzzwords such as \'93private cloud\'94, although technically I just did.\uc0\u8232 \u8232 The core Mesos project is an open source Apache incubator project. On top of it you can run schedulers that deal with more specific technologies, for example Storm and Hadoop. The idea being that the same hardware can be used for multiple purposes, reducing wasted resources.\u8232 \u8232 In addition to using {\field{\*\fldinst{HYPERLINK "http://storm-project.net/"}}{\fldrslt \cf26 Storm}} on top of Mesos we deploy some of our JVM-based services to internal Mesos clusters. With the proper configuration it takes care of concerns such as rack diversity, rescheduling if a machine goes down and so on. \uc0\u8232 \u8232 The constraints imposed by Mesos have the positive side effect of enforcing adherence to various good distributed systems practices. For example:\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls9\ilvl0\cf0 {\listtext	\'95	}Service owners shouldn\'92t make any assumptions about jobs\'92 lifetimes, as the Mesos scheduler can move jobs to new hosts at any time.\
{\listtext	\'95	}Jobs shouldn\'92t write to local disk, since persistence is not guaranteed.\
{\listtext	\'95	}Deploy tooling and configs shouldn\'92t use static server lists, since Mesos implies deployment to a dynamic environment.\
\pard\pardeftab720

\b\fs40 \cf0 Iago
\b0\fs26 \
\pard\pardeftab720\sa200
\cf0 Before putting your new service into production you might want to check how it performs under load. That\'92s where {\field{\*\fldinst{HYPERLINK "https://github.com/twitter/iago"}}{\fldrslt \cf26 Iago}} (formerly Parrot) comes in handy. It\'92s a load testing framework that is pretty easy to use.\uc0\u8232 \u8232 The process might look something like this:\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls10\ilvl0\cf0 {\listtext	1.	}Collect relevant traffic logs that you want to use as the basis for your load test.\
{\listtext	2.	}Write a configuration file for the test. It contains the hostnames to send load to, the number of requests per second, the load pattern and so on.\
{\listtext	3.	}Write the actual load test. It receives a log line, you transform that into a request to a client.\
{\listtext	4.	}Run the load test. At Twitter this will start up a few tasks in a Mesos cluster, send the traffic and log metrics.\
\pard\pardeftab720\sa200
\cf0 \uc0\u8232 
\b Example
\b0 \uc0\u8232 A load test class could be as simple as this:\u8232 \u8232 
\f9\fs22 class LoadTest(parrotService: ParrotService[ParrotRequest, Array[Byte]]) extends \'a0\'a0\'a0\'a0\uc0\u8232 \'a0ThriftRecordProcessor(parrotService) \{\u8232 \u8232 \'a0val client = new YourService.FinagledClient(service, new TBinaryProtocol.Factory())\u8232 \u8232 \'a0def processLines(job: ParrotJob, lines: Seq[String]) \{\u8232 \'a0\'a0\'a0lines foreach \{line =>client.doSomething(line) \}\u8232 \'a0\}\u8232 \} 
\f4\fs26 \uc0\u8232 \u8232 This class will feed each log line to your service\'92s doSomething method, according to the parameters defined in the configuration of parrotService.\u8232 \
\pard\pardeftab720

\b\fs40 \cf0 ZooKeeper
\b0\fs26 \
\pard\pardeftab720\sa200
\cf0 ZooKeeper is an Apache project that is handy for all kinds of distributed systems coordination. \uc0\u8232 \u8232 One use case for ZooKeeper within Twitter is service discovery. Finagle services register themselves in ZooKeeper using our ServerSet library, see {\field{\*\fldinst{HYPERLINK "https://github.com/twitter/finagle/tree/master/finagle-serversets"}}{\fldrslt \cf26 finagle-serversets}}. This allows clients to simply say they\'92d like to communicate with \'93the production cluster for service a in data centre b\'94 and the ServerSet implementation will ensure an up-to-date host list is available. Whenever new capacity is added the client will automatically be aware and will start load balancing across all servers.\uc0\u8232 \u8232 \
\pard\pardeftab720

\b\fs40 \cf0 Scalding
\b0\fs26 \
\pard\pardeftab720\sa200
\cf0 From the {\field{\*\fldinst{HYPERLINK "https://github.com/twitter/scalding"}}{\fldrslt \cf26 Scalding}} github page: \'93Scalding is a Scala library that makes it easy to write MapReduce jobs in Hadoop. Instead of forcing you to write raw map and reduce functions, Scalding allows you to write code that looks like natural Scala\'94.\uc0\u8232 \u8232 As it turns out services that receive a lot of traffic generate tons of log entries. These can provide useful insights into user behavior or perhaps you need to transform them to be suitable as Iago load test input.\u8232 \u8232 I have to admit I was a bit sceptical about Scalding at first. It seemed there were already plenty of ways to write Hadoop jobs. Pig, Hive, plain MapReduce, Cascading and so on. However, when the rest of your project is in Scala it is very handy to be able to write Hadoop jobs in the same language. The syntax is often very close to the one used by Scala\'92s collection library, so you feel right at home, the difference being that with Scalding you might process terabytes of data with the same lines of code.\u8232 \u8232 A simple word count example from their tutorial:\
\'a0 
\f9\fs22 TextLine(args("input"))\uc0\u8232 \'a0\'a0\'a0.read\u8232 \'a0\'a0\'a0.flatMap('line -> 'word)\{ line : String => line.split("\\\\s")\}\u8232 \'a0\'a0\'a0.groupBy('word)\{group => group.size\}\u8232 \'a0\'a0\'a0.write(Tsv(args("output")))
\f4\fs26 \uc0\u8232 \
\pard\pardeftab720

\b\fs40 \cf0 jvmgcprof
\b0\fs26 \
\pard\pardeftab720\sa200
\cf0 One of the well known downsides of relying on the JVM for time sensitive requests is that garbage collection pauses could ruin your day. If you\'92re unlucky a GC pause might hit at the wrong time, causing some requests to perform poorly or even timeout. Worst case that might have knock on effects that leads to downtime.\uc0\u8232 \u8232 As a first line of defence against GC issues you should of course tweak your JVM startup parameters to suit the kind of work the service is undertaking. I\'92ve found these{\field{\*\fldinst{HYPERLINK "http://www.slideshare.net/aszegedi/everything-i-ever-learned-about-jvm-performance-tuning-twitter"}}{\fldrslt \cf26 slides}} from Twitter alumni Attila Szegedi extremely helpful.\uc0\u8232 \u8232 Of course, you could minimize GC issues by reducing the amount of garbage your service generates. Start your service with jvmgcprof and it\'92ll help you reach that goal. If you already use Ostrich to track metrics in your service you can tell jvmgcprof which metric represents the work completed. For example you might want to know how many kilobytes of garbage is generated per incoming Thrift request. The jvmgcprof output for that could look something like this.\u8232 \u8232 2797MB w=101223 (231MB/s 28kB/w)\u8232 50.00% \'a08 \'a0\'a0297\u8232 90.00% \'a014 \'a0542\u8232 95.00% \'a015 \'a0572\u8232 99.00% \'a061 \'a02237\u8232 99.90% \'a02620 \'a0\'a0\'a094821\u8232 99.99% \'a02652 \'a0\'a0\'a095974\u8232 \u8232 On the first line you can see that the number requests or work were 101223 for the period monitored, with 231MB/s of garbage or 28kB per request. The garbage per request can easily be compared after changes has been made to see if they had a positive or negative impact on garbage generation. See the {\field{\*\fldinst{HYPERLINK "https://github.com/twitter/jvmgcprof"}}{\fldrslt \cf26 jvmgcprof readme}} for more information.\uc0\u8232 \
\pard\pardeftab720

\b\fs40 \cf0 Summary
\b0\fs26 \
\pard\pardeftab720\sa200
\cf0 It\'92s no surprise, but it turns out that having a common stack is very beneficial. Improvements and bug fixes made by one team will benefit others. There is of course another side to that coin, sometimes bugs are introduced that might just be triggered in your service. However, as an example, when developing Zipkin it was immensely helpful to be able to assume that everyone used Finagle. That way they would get tracing for free once we were done.\uc0\u8232 \u8232 I have left out some of the benefits of the Twitter stack and how we use Scala, such as the very convenient way Futures allow you to deal with results from asynchronous requests. I hope to write a more in depth post on how to set up a Twitter style service that would deal with the details omitted in this article. In the meantime you can check out the {\field{\*\fldinst{HYPERLINK "http://twitter.github.com/scala_school"}}{\fldrslt \cf26 Scala school}} for more information.\uc0\u8232 \u8232 Thanks to everyone who worked on the projects mentioned in this article, too many to name but you know who you are.\
\pard\pardeftab720
{\field{\*\fldinst{HYPERLINK "http://blog.oskarsson.nu/post/40196324612/the-twitter-stack"}}{\fldrslt \cf26 01/10/13}}\cf27 \
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://yanaura.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://yanaura.tumblr.com/"}}{\fldrslt yanaura}}\cf0  likes this\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://micrypt.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://micrypt.tumblr.com/"}}{\fldrslt micrypt}}\cf0  likes this\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://dallas.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://dallas.tumblr.com/"}}{\fldrslt dallas}}\cf0  likes this\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://vagorage.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://vagorage.tumblr.com/"}}{\fldrslt vagorage}}\cf0  reblogged this from {\field{\*\fldinst{HYPERLINK "http://blog.oskarsson.nu/"}}{\fldrslt \cf26 johanoskarsson}}\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://vagorage.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://vagorage.tumblr.com/"}}{\fldrslt vagorage}}\cf0  likes this\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://joaovasques.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://joaovasques.tumblr.com/"}}{\fldrslt joaovasques}}\cf0  likes this\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://brckner.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://brckner.tumblr.com/"}}{\fldrslt brckner}}\cf0  reblogged this from {\field{\*\fldinst{HYPERLINK "http://blog.oskarsson.nu/"}}{\fldrslt \cf26 johanoskarsson}}\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://brckner.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://brckner.tumblr.com/"}}{\fldrslt brckner}}\cf0  likes this\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://mstrftzr.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://mstrftzr.tumblr.com/"}}{\fldrslt mstrftzr}}\cf0  likes this\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://john-langley.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://john-langley.tumblr.com/"}}{\fldrslt john-langley}}\cf0  likes this\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://velocius.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://velocius.tumblr.com/"}}{\fldrslt velocius}}\cf0  reblogged this from {\field{\*\fldinst{HYPERLINK "http://blog.oskarsson.nu/"}}{\fldrslt \cf26 johanoskarsson}} and added:\uc0\u8232 {\field{\*\fldinst{HYPERLINK "http://velocius.tumblr.com/post/61423010622"}}{\fldrslt \cf26 Great post on all of Twitter\'92s infrastructure}}\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://laddk.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://laddk.tumblr.com/"}}{\fldrslt laddk}}\cf0  reblogged this from {\field{\*\fldinst{HYPERLINK "http://blog.oskarsson.nu/"}}{\fldrslt \cf26 johanoskarsson}}\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://florianmonfort.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://florianmonfort.tumblr.com/"}}{\fldrslt florianmonfort}}\cf0  reblogged this from {\field{\*\fldinst{HYPERLINK "http://blog.oskarsson.nu/"}}{\fldrslt \cf26 johanoskarsson}} and added:\uc0\u8232 {\field{\*\fldinst{HYPERLINK "http://florianmonfort.tumblr.com/post/61389490914"}}{\fldrslt \cf26 The (mostly) Open Source Twitter stack, using Java based applications and house built-in applications.}}\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://florianmonfort.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://florianmonfort.tumblr.com/"}}{\fldrslt florianmonfort}}\cf0  likes this\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://norfolknchance.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://norfolknchance.tumblr.com/"}}{\fldrslt norfolknchance}}\cf0  likes this\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://dghubble.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://dghubble.tumblr.com/"}}{\fldrslt dghubble}}\cf0  reblogged this from {\field{\*\fldinst{HYPERLINK "http://blog.oskarsson.nu/"}}{\fldrslt \cf26 johanoskarsson}}\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://11evergreenstreet.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://11evergreenstreet.tumblr.com/"}}{\fldrslt 11evergreenstreet}}\cf0  likes this\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://gauravthapa.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://gauravthapa.tumblr.com/"}}{\fldrslt gauravthapa}}\cf0  likes this\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://blog.ravs.me/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://blog.ravs.me/"}}{\fldrslt ra24vs}}\cf0  likes this\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://centrifugando.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://centrifugando.tumblr.com/"}}{\fldrslt centrifugando}}\cf0  reblogged this from {\field{\*\fldinst{HYPERLINK "http://blog.oskarsson.nu/"}}{\fldrslt \cf26 johanoskarsson}}\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://oppen.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://oppen.tumblr.com/"}}{\fldrslt oppen}}\cf0  likes this\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://centrifugando.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://centrifugando.tumblr.com/"}}{\fldrslt centrifugando}}\cf0  likes this\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://dngrm.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://dngrm.tumblr.com/"}}{\fldrslt dngrm}}\cf0  likes this\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://maddalab.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://maddalab.tumblr.com/"}}{\fldrslt maddalab}}\cf0  reblogged this from {\field{\*\fldinst{HYPERLINK "http://blog.oskarsson.nu/"}}{\fldrslt \cf26 johanoskarsson}}\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://tadabborat.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://tadabborat.tumblr.com/"}}{\fldrslt tadabborat}}\cf0  reblogged this from {\field{\*\fldinst{HYPERLINK "http://blog.oskarsson.nu/"}}{\fldrslt \cf26 johanoskarsson}}\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://sudison.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://sudison.tumblr.com/"}}{\fldrslt sudison}}\cf0  reblogged this from {\field{\*\fldinst{HYPERLINK "http://blog.oskarsson.nu/"}}{\fldrslt \cf26 johanoskarsson}}\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://imikushin.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://imikushin.tumblr.com/"}}{\fldrslt imikushin}}\cf0  likes this\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://imikushin.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://imikushin.tumblr.com/"}}{\fldrslt imikushin}}\cf0  reblogged this from {\field{\*\fldinst{HYPERLINK "http://blog.oskarsson.nu/"}}{\fldrslt \cf26 johanoskarsson}}\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://lalloni.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://lalloni.tumblr.com/"}}{\fldrslt lalloni}}\cf0  reblogged this from {\field{\*\fldinst{HYPERLINK "http://blog.oskarsson.nu/"}}{\fldrslt \cf26 johanoskarsson}}\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://computerseance.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://computerseance.tumblr.com/"}}{\fldrslt computerseance}}\cf0  reblogged this from {\field{\*\fldinst{HYPERLINK "http://blog.oskarsson.nu/"}}{\fldrslt \cf26 johanoskarsson}}\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://andre3k1.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://andre3k1.tumblr.com/"}}{\fldrslt andre3k1}}\cf0  likes this\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://dturbay.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://dturbay.tumblr.com/"}}{\fldrslt dturbay}}\cf0  likes this\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://knowncitizen.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://knowncitizen.tumblr.com/"}}{\fldrslt knowncitizen}}\cf0  likes this\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://tumblr.zerowidth.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://tumblr.zerowidth.com/"}}{\fldrslt zerowidth}}\cf0  reblogged this from {\field{\*\fldinst{HYPERLINK "http://blog.oskarsson.nu/"}}{\fldrslt \cf26 johanoskarsson}}\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://couch.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://couch.tumblr.com/"}}{\fldrslt couch}}\cf0  likes this\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://jm2dev.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://jm2dev.tumblr.com/"}}{\fldrslt jm2dev}}\cf0  reblogged this from {\field{\*\fldinst{HYPERLINK "http://blog.oskarsson.nu/"}}{\fldrslt \cf26 johanoskarsson}}\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://yoanngrange.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://yoanngrange.tumblr.com/"}}{\fldrslt yoanngrange}}\cf0  reblogged this from {\field{\*\fldinst{HYPERLINK "http://blog.oskarsson.nu/"}}{\fldrslt \cf26 johanoskarsson}}\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://www.andybritcliffe.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://www.andybritcliffe.com/"}}{\fldrslt andybritcliffe}}\cf0  reblogged this from {\field{\*\fldinst{HYPERLINK "http://blog.oskarsson.nu/"}}{\fldrslt \cf26 johanoskarsson}}\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://atul702.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://atul702.tumblr.com/"}}{\fldrslt atul702}}\cf0  likes this\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://randombits.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://randombits.tumblr.com/"}}{\fldrslt randombits}}\cf0  likes this\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://szaszz.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://szaszz.tumblr.com/"}}{\fldrslt szaszz}}\cf0  likes this\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://mindenkinekakiszereti.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://mindenkinekakiszereti.tumblr.com/"}}{\fldrslt mindenkinekakiszereti}}\cf0  likes this\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://evandrix.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://evandrix.tumblr.com/"}}{\fldrslt evandrix}}\cf0  reblogged this from {\field{\*\fldinst{HYPERLINK "http://blog.oskarsson.nu/"}}{\fldrslt \cf26 johanoskarsson}}\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://evandrix.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://evandrix.tumblr.com/"}}{\fldrslt evandrix}}\cf0  likes this\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://domon.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://domon.tumblr.com/"}}{\fldrslt domon}}\cf0  likes this\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://oldfi.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://oldfi.tumblr.com/"}}{\fldrslt oldfi}}\cf0  likes this\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://adaptable.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://adaptable.tumblr.com/"}}{\fldrslt adaptable}}\cf0  reblogged this from {\field{\*\fldinst{HYPERLINK "http://blog.oskarsson.nu/"}}{\fldrslt \cf26 johanoskarsson}}\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://softpress.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://softpress.tumblr.com/"}}{\fldrslt softpress}}\cf0  likes this\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://asoftsea.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://asoftsea.tumblr.com/"}}{\fldrslt asoftsea}}\cf0  reblogged this from {\field{\*\fldinst{HYPERLINK "http://blog.oskarsson.nu/"}}{\fldrslt \cf26 johanoskarsson}}\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://trickyimplementation.tumblr.com/"}}{\fldrslt \
}}\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://trickyimplementation.tumblr.com/"}}{\fldrslt trickyimplementation}}\cf0  reblogged this from {\field{\*\fldinst{HYPERLINK "http://blog.oskarsson.nu/"}}{\fldrslt \cf26 johanoskarsson}}\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa140\qc
\ls11\ilvl0\cf26 {\listtext	.	}{\field{\*\fldinst{HYPERLINK "http://blog.oskarsson.nu/post/40196324612/the-twitter-stack#"}}{\fldrslt Show more notes}}\cf0 \
\pard\pardeftab720
\cf0 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sl500
\ls12\ilvl0
\fs32 \cf10 {\listtext	\'95	}{\field{\*\fldinst{HYPERLINK "http://kafka.apache.org/"}}{\fldrslt Apache Kafka}}\cf5  - High-throughput distributed messaging system.({\field{\*\fldinst{HYPERLINK "http://zh.wikipedia.org/wiki/Kafka"}}{\fldrslt http://zh.wikipedia.org/wiki/Kafka}})\
\pard\pardeftab720

\fs26 \cf0 \
\pard\tx566\pardeftab720\sl500

\f0\fs32 \cf5 \
\
zipkin\'bd\'e9\'c9\'dc\
\pard\tx566\pardeftab720\sl500
{\field{\*\fldinst{HYPERLINK "http://itszero.github.io/blog/2014/03/03/introduction-to-twitters-zipkin/"}}{\fldrslt \cf5 http://itszero.github.io/blog/2014/03/03/introduction-to-twitters-zipkin/}}\
\pard\tx566\pardeftab720\sl500

\f4 \cf5 \
\
scala \
//
\f0 \'b6\'a8\'d2\'e5
\f4 Client
\f0 \'ba\'cd
\f4 Server
\f0 \'c0\'e0\'d0\'cd\'b5\'c4\'c4\'bf\'b5\'c4\'bf\'c9\'d2\'d4\'b7\'d6\'b1\'f0\'ca\'b5\'cf\'d6Client\'ba\'cdServer\'b5\'c4CodecFactory
\f4 \
trait CodecFactory[Req, Rep] \{\
  type Client = ClientCodecConfig => Codec[Req, Rep]\
  type Server = ServerCodecConfig => Codec[Req, Rep]\
\
  def client: Client\
  def server: Server\
\}\

\f0 \'ca\'b5\'cf\'d6
\f4 Client
\f0 \'b6\'cb(#\'b5\'c4\'d7\'f7\'d3\'c3)
\f4 \
class ClientCodecImpl[Rep,Req] extends CodecFactory[Req,Rep]#Client\{\
  override def apply(config: ClientCodecConfig): Codec[Req, Rep] = ???\
\}\

\f0 \'ca\'b5\'cf\'d6Server\'b6\'cb
\f4 \
class ServerCodecImpl[Rep,Req] extends CodecFactory[Req,Rep]#Server\{\
  override def apply(config: ServerCodecConfig): Codec[Req, Rep] = ???\
\}\
scala 
\f0 \'b5\'b1\'bc\'cc\'b3\'d0\'b5\'c4\'ca\'c7\'ba\'af\'ca\'fd\'ca\'b1 \'bb\'e1\'d7\'d4\'b6\'af\'c3\'fc\'c3\'fb\'ce\'aaapply
\f4 \
class Method1 extends ((String) =>String) with ((String,String)=>Unit)\{\
  override def apply(v1: String): String = ???\
\
  override def apply(v1: String, v2: String): Unit = ???\
\}\
\
\
\
\
\
trait SoaTrace\{self=>//
\f0 \'b4\'fa\'b1\'ed\'b1\'be\'c9\'ed\'ca\'b5\'c0\'fd\'bb\'af\'b6\'d4\'cf\'f3\'d3\'ebthis\'cf\'e0\'cd\'ac
\f4 \
  def apply():Unit\
\}\
trait IBusface\{ trace:SoaTrace =>
\f0 //\'bc\'cc\'b3\'d0\'b6\'d4\'cf\'f3\'b1\'d8\'d0\'eb\'ca\'b5\'cf\'d6SoaTrace\'bd\'d3\'bf\'da
\f4 \
  def test(s:String):Unit\
  \
\}\
class BusImpl extends IBusface with SoaTrace\{\
  override def test(s: String): Unit = ???\
\
  override def apply: Unit = ???\
\}\
\
implicit 
\f0 \'d2\'fe\'ca\'bd\'c0\'e0\'d0\'cd\'d7\'aa\'bb\'bb\
\pard\tx566\pardeftab720\sl500
{\field{\*\fldinst{HYPERLINK "http://meetfp.com/zh/blog/implicit"}}{\fldrslt \cf5 http://meetfp.com/zh/blog/implicit}}
\f4 \
\pard\pardeftab720\sl400

\f2\fs28 \cf28 \cb29 implicit class IntExtendToDuration(i: Int) \{\
  def seconds = Seconds(i)\
  def minutes = Minutes(i)\
  def hours = Hours(i)\
\}\
\
println(2 seconds)\
println(3 minutes)\
println(4 hours)\cf0 \
\pard\tx566\pardeftab720\sl500

\f4\fs32 \cf5 \cb1 \
redid pool \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural

\f2\fs36 \cf2 \cb3 \CocoaLigature0 object RedisPoolManager\{\
  private[this] val redisPool=\{\
    val config=new JedisPoolConfig\
    config.setMaxTotal(500)\
    config.setMaxIdle(5)\
    config.setMaxWaitMillis(1000*10)\
    config.setTestOnBorrow(true)\
    new JedisPool(config,"localhost",6379)\
  \}\
	def redisCommand[T](f:Jedis=>T): T =\{\
    val client=redisPool.getResource\
    try\{\
      f(client)\
    \}finally \{\
      redisPool.returnBrokenResource(client)\
    \}\
  \}\
\}\
object Test\{\
  def main(args:Array[String]): Unit =\{\
    val max_valid_request_frequency=10\
    val max_valid_request_expire_seconds=10\
    RedisPoolManager.redisCommand\{implicit client=> 
\f0 //\'b4\'cb\'b4\'a6implicit\'b5\'c4\'d7\'f7\'d3\'c3,client\'b5\'c4\'d6\'b5\'ce\'aa\'d2\'fe\'ca\'bd\'b5\'c4 \'bf\'c9\'d2\'d4\'d0\'b4\'b3\'c9 client:Jedis\'b4\'fa\'cc\'e6
\f2 \
      val key="h_type_uid_cid"\
      val count=client.incr(key)\
      if(count>max_valid_request_frequency) true\
      else \{\
        if(count == 1) client.expire(key,max_valid_request_expire_seconds)\
        false\
      \}\
      println(client.set("key1","value1"))\
      println(client.set("key1","value1"))\
    \}\
  \}\
\}\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural

\f4\fs32 \cf5 \cb1 \CocoaLigature1 \
\pard\tx566\pardeftab720\sl500
\cf5 finagle trace({\field{\*\fldinst{HYPERLINK "http://blog.oskarsson.nu/post/40196324612/the-twitter-stack"}}{\fldrslt http://blog.oskarsson.nu/post/40196324612/the-twitter-stack}})\
\
\
docker\
deploy distributed system {\field{\*\fldinst{HYPERLINK "http://blog.blikk.co/build-deploy-distributed-scala-apps-akka-docker-coreos/"}}{\fldrslt http://blog.blikk.co/build-deploy-distributed-scala-apps-akka-docker-coreos/}}\
docker webui manager shipyard {\field{\*\fldinst{HYPERLINK "http://vmking.blog.51cto.com/6433018/1537330"}}{\fldrslt http://vmking.blog.51cto.com/6433018/1537330}}\
\
apache mesos\
\pard\pardeftab720\sl480
{\field{\*\fldinst{HYPERLINK "http://www.jdon.com/artichect/managing-docker-clusters-using-mesos-and-marathon.html"}}{\fldrslt 
\f1\fs28 \cf5 http://www.jdon.com/artichect/managing-docker-clusters-using-mesos-and-marathon.html}}
\f1\fs28 \
\
start CLI\
1.
\f0 \'c6\'f4\'b6\'af
\f1 mesos\
bin/mesos-master.sh \'97ip=10.9.52.31 \'97zk=zk://localhost:2181/mesos \'97work_dir=/tmp/mesos/master \'97log_dir=/tmp/mesos/master/log \'97
\f2\fs36 \cf2 \cb3 \CocoaLigature0 quorum=1\
bin/mesos-slaver.sh \'97master=zk://localhost:2181/mesos \'97work_dir=/tmp/mesos/slaver \'97log_dir=/tmp/mesos/slaver/log \'97quorum=1  \'97containerizers=docker,mesos\
\pard\pardeftab720\sl480

\f1\fs28 \cf5 \cb1 \CocoaLigature1 2.
\f0 \'c6\'f4\'b6\'af
\f1 marathon\
bin/start \'97master zk://localhost:2181/mesos \'97zk zk://localhost:2181/marathon\
deploy docker containers on mesos use marathon\
\pard\pardeftab720\sl480
{\field{\*\fldinst{HYPERLINK "http://frankhinek.com/deploy-docker-containers-on-mesos-0-20/"}}{\fldrslt \cf5 http://frankhinek.com/deploy-docker-containers-on-mesos-0-20/}}\
\pard\pardeftab720\sl480
{\field{\*\fldinst{HYPERLINK "https://github.com/ceteri/exelixi/wiki/Mesos-Tutorial:-Fog-Computing-at-Hella-Scale"}}{\fldrslt \cf5 https://github.com/ceteri/exelixi/wiki/Mesos-Tutorial:-Fog-Computing-at-Hella-Scale}}\
\
\pard\pardeftab720\sl480
{\field{\*\fldinst{HYPERLINK "http://codefutures.com/mesos-docker-tutorial-how-to-build-your-own-framework/"}}{\fldrslt \cf5 http://codefutures.com/mesos-docker-tutorial-how-to-build-your-own-framework/}} (
\f0 \'bf\'bf\'c6\'d7
\f1 )\
\
\pard\pardeftab720\sl480
{\field{\*\fldinst{HYPERLINK "http://mesosphere.com/docs/tutorials/"}}{\fldrslt \cf5 http://mesosphere.com/docs/tutorials/}}  demo\
\pard\pardeftab720\sl480
{\field{\*\fldinst{HYPERLINK "https://www.youtube.com/watch?v=vtnSL79rZ6o"}}{\fldrslt \cf5 https://www.youtube.com/watch?v=vtnSL79rZ6o}} docker clustering deploy\
\
mesos two-level scheduler abstraction\
1. a scheduler with receives resources offers from mesos\
2.a set of executors with distribute the data+processing\
\
\
\pard\pardeftab720\sl480
{\field{\*\fldinst{HYPERLINK "https://zcox.wordpress.com/2014/09/17/cpu-resources-in-docker-mesos-and-marathon/"}}{\fldrslt \cf5 https://zcox.wordpress.com/2014/09/17/cpu-resources-in-docker-mesos-and-marathon/}}\
haproxy TCP
\f0 \'b8\'ba\'d4\'d8\'be\'f9\'ba\'e2
\f4\fs32 \
\pard\tx566\pardeftab720\sl500
\cf5 \
\pard\pardeftab720

\f3\b \cf5 QPS
\f0\b0\fs24 \'a3\'ba
\f3\fs26 Queries Per Second
\f0 \'d2\'e2\'cb\'bc\'ca\'c7
\f3 \'93
\f0 \'c3\'bf\'c3\'eb\'b2\'e9\'d1\'af\'c2\'ca
\f3 \'94
\f0 \'a3\'ac\'ca\'c7\'d2\'bb\'cc\'a8\'b7\'fe\'ce\'f1\'c6\'f7\'c3\'bf\'c3\'eb\'c4\'dc\'b9\'bb\'cf\'e0\'d3\'a6\'b5\'c4\'b2\'e9\'d1\'af\'b4\'ce\'ca\'fd\
\'a3\'ac\'ca\'c7\'b6\'d4\'d2\'bb\'b8\'f6\'cc\'d8\'b6\'a8\'b5\'c4\'b2\'e9\'d1\'af\'b7\'fe\'ce\'f1\'c6\'f7\'d4\'da\'b9\'e6\'b6\'a8\'ca\'b1\'bc\'e4\'c4\'da\'cb\'f9\'b4\'a6\'c0\'ed\'c1\'f7\'c1\'bf\'b6\'e0\'c9\'d9\'b5\'c4\'ba\'e2\'c1\'bf\'b1\'ea\'d7\'bc\'a1\'a3
\f3\fs28 \
\'a0\

\b\fs32 TPS
\f0\b0\fs26 \'ca\'c7
\f3 TransactionsPerSecond
\f0 \'b5\'c4\'cb\'f5\'d0\'b4\'a3\'ac\'d2\'b2\'be\'cd\'ca\'c7\'ca\'c2\'ce\'f1\'ca\'fd
\f3 /
\f0 \'c3\'eb\'a1\'a3\'cb\'fc\'ca\'c7\'c8\'ed\'bc\'fe\'b2\'e2\'ca\'d4\'bd\'e1\'b9\'fb\'b5\'c4\'b2\'e2\'c1\'bf\'b5\'a5\'ce\'bb\'a1\'a3\'d2\'bb\'b8\'f6\'ca\'c2\'ce\'f1\'ca\'c7\'d6\'b8\'d2\'bb\'b8\'f6\'bf\'cd\'bb\'a7\'bb\'fa\'cf\'f2\'b7\'fe\'ce\'f1\'c6\'f7\'b7\'a2\'cb\'cd\'c7\'eb\'c7\'f3\'c8\'bb\'ba\'f3\'b7\'fe\'ce\'f1\'c6\'f7\'d7\'f6\'b3\'f6\'b7\'b4\'d3\'a6\'b5\'c4\'b9\'fd\'b3\'cc\'a1\'a3\'bf\'cd\'bb\'a7\'bb\'fa\'d4\'da\'b7\'a2\'cb\'cd\'c7\'eb\'c7\'f3\'ca\'b1\'bf\'aa\'ca\'bc\'bc\'c6\'ca\'b1\'a3\'ac\'ca\'d5\'b5\'bd\'b7\'fe\'ce\'f1\'c6\'f7\'cf\'ec\'d3\'a6\'ba\'f3\'bd\'e1\'ca\'f8\'bc\'c6\'ca\'b1\'a3\'ac\'d2\'d4\'b4\'cb\'c0\'b4\'bc\'c6\'cb\'e3\'ca\'b9\'d3\'c3\'b5\'c4\'ca\'b1\'bc\'e4\'ba\'cd\'cd\'ea\'b3\'c9\'b5\'c4\'ca\'c2\'ce\'f1\'b8\'f6\'ca\'fd\'a3\'ac\'d7\'ee\'d6\'d5\'c0\'fb\'d3\'c3\'d5\'e2\'d0\'a9\'d0\'c5\'cf\'a2\'c0\'b4\'b9\'c0\'bc\'c6\'b5\'c3\'b7\'d6\'a1\'a3\'bf\'cd\'bb\'a7\'bb\'fa\'ca\'b9\'d3\'c3\'bc\'d3\'c8\'a8\'d0\'ad\'ba\'af\'ca\'fd\'c6\'bd\'be\'f9\'b7\'bd\'b7\'a8\'c0\'b4\'bc\'c6\'cb\'e3\'bf\'cd\'bb\'a7\'bb\'fa\'b5\'c4\'b5\'c3\'b7\'d6\'a3\'ac\'b2\'e2\'ca\'d4\'c8\'ed\'bc\'fe\'be\'cd\'ca\'c7\'c0\'fb\'d3\'c3\'bf\'cd\'bb\'a7\'bb\'fa\'b5\'c4\'d5\'e2\'d0\'a9\'d0\'c5\'cf\'a2\'ca\'b9\'d3\'c3\'bc\'d3\'c8\'a8\'d0\'ad\'ba\'af\'ca\'fd\'c6\'bd\'be\'f9\'b7\'bd\'b7\'a8\'c0\'b4\'bc\'c6\'cb\'e3\'b7\'fe\'ce\'f1\'c6\'f7\'b6\'cb\'b5\'c4\'d5\'fb\'cc\'e5
\f3 TPS
\f0 \'b5\'c3\'b7\'d6\'a1\'a3
\f4\fs32 \
\
\
comet server\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural

\f1\fs24 \cf0 {{\NeXTGraphic 1__#$!@%!#__Pasted Graphic.tiff \width14520 \height9880
}¬}\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural

\f4\fs32 \cf0 \
\pard\pardeftab720\sl480

\f0\fs28 \cf30 \'c7\'b0\'d1\'d4
\f10 \
\pard\pardeftab720\sl480
{\field{\*\fldinst{HYPERLINK "https://github.com/Terry-Mao/gopush-cluster/"}}{\fldrslt \cf31 \ul \ulc31 gopush-cluster}}
\f0 \'ca\'c7\'d2\'bb\'cc\'d7
\f10 golang
\f0 \'bf\'aa\'b7\'a2\'b5\'c4\'ca\'b5\'ca\'b1\'cf\'fb\'cf\'a2\'cd\'c6\'cb\'cd\'bc\'af\'c8\'ba\'a3\'ac\'d6\'f7\'d2\'aa\'b7\'d6\'cf\'ed\'d2\'bb\'cf\'c2\'bf\'aa\'b7\'a2\'d5\'e2\'cc\'d7\'cf\'b5\'cd\'b3\'b5\'c4\'cf\'eb\'b7\'a8\'ba\'cd\'cb\'bc\'c2\'b7\'a1\'a3
\f10 \
\pard\pardeftab720\sl480

\f0 \cf30 \'bc\'dc\'b9\'b9
\f10 \

\f0 \'d6\'f7\'d2\'aa\'b7\'d6\'ce\'aa\'c8\'fd\'b8\'f6\'c4\'a3\'bf\'e9\'c0\'b4\'bf\'aa\'b7\'a2\'a3\'ac
\f10 comet/web/message
\f0 \'a1\'a3
\f10 \
comet\

\f0 \'d6\'f7\'d2\'aa\'b8\'ba\'d4\'f0\'cf\'fb\'cf\'a2\'c5\'c5\'b6\'d3\'a1\'a2\'cf\'fb\'cf\'a2\'cd\'c6\'cb\'cd\'d2\'d4\'bc\'b0\'ba\'cd\'bf\'cd\'bb\'a7\'b6\'cb\'b5\'c4\'c1\'ac\'bd\'d3\'ce\'ac\'bb\'a4\'a3\'bb\'d5\'fb\'cc\'d7\'cf\'b5\'cd\'b3\'d2\'c0\'be\'dd\'ca\'c7\'cf\'fb\'cf\'a2
\f10 ID
\f0 \'cb\'b3\'d0\'f2\'d4\'ad\'d4\'f2\'bb\'f1\'c8\'a1\'cf\'fb\'cf\'a2\'a3\'a8\'bf\'cd\'bb\'a7\'b6\'cb\'b1\'be\'b5\'d8\'bb\'f1\'c8\'a1\'d7\'ee\'b4\'f3\'b5\'c4\'cf\'fb\'cf\'a2\'ca\'c7
\f10 1
\f0 \'a3\'ac\'c4\'c7\'c3\'b4\'d6\'ae\'ba\'f3\'bb\'f1\'c8\'a1\'b5\'c4\'cf\'fb\'cf\'a2\'be\'cd\'ca\'c7\'b4\'f3\'d3\'da
\f10 1
\f0 \'b5\'c4\'a3\'ac\'bb\'f1\'c8\'a1\'c0\'eb\'cf\'df\'cf\'fb\'cf\'a2\'b5\'c4\'ca\'b1\'ba\'f2\'d2\'b2\'d2\'aa\'b4\'d3\'c9\'cf\'b4\'ce\'d7\'ee\'b4\'f3\'cf\'fb\'cf\'a2
\f10 ID
\f0 \'c0\'b4\'bb\'f1\'c8\'a1\'a3\'a9\'a3\'ac\'d2\'f2\'b4\'cb\'cf\'fb\'cf\'a2\'cd\'c6\'cb\'cd\'d2\'d4\'ba\'f3\'d0\'e8\'d2\'aa\'d4\'da
\f10 comet
\f0 \'d6\'d0\'c5\'c5\'b6\'d3\'c8\'bb\'ba\'f3\'b7\'a2\'c6\'f0
\f10 RPC
\f0 \'b8\'f8
\f10 message
\f0 \'ca\'b5\'cf\'d6\'b4\'e6\'b4\'a2\'a1\'a3
\f10 \
message\'a0\

\f0 \'d6\'f7\'d2\'aa\'b8\'ba\'d4\'f0\'cf\'fb\'cf\'a2\'b5\'c4\'b4\'e6\'b4\'a2\'ba\'cd\'b6\'c1\'d0\'b4\'a3\'bb\'bd\'d3\'ca\'dc\'c0\'b4\'d7\'d4
\f10 comet
\f0 \'c4\'a3\'bf\'e9\'b5\'c4\'cf\'fb\'cf\'a2\'bd\'f8\'d0\'d0\'b3\'d6\'be\'c3\'bb\'af\'a3\'ac\'bb\'f2\'d5\'df\'bd\'d3\'ca\'dc
\f10 web
\f0 \'c4\'a3\'bf\'e9\'b5\'c4\'b6\'c1\'c8\'a1\'cf\'fb\'cf\'a2\'c7\'eb\'c7\'f3\'bb\'f1\'c8\'a1\'c0\'eb\'cf\'df\'cf\'fb\'cf\'a2\'a1\'a3
\f10 message
\f0 \'ca\'c7\'bf\'c9\'d2\'d4\'b2\'bf\'ca\'f0\'b6\'e0\'b8\'f6\'bd\'da\'b5\'e3\'c0\'b4\'b8\'ba\'d4\'d8\'c0\'b4\'d7\'d4\'b4\'f3\'c1\'bf
\f10 comet
\f0 \'b5\'c4\'cd\'c6\'cb\'cd\'d1\'b9\'c1\'a6\'a3\'ac\'b1\'c8\'c8\'e7\'b2\'bb\'cd\'ac\'b5\'c4
\f10 comet
\f0 \'ca\'b9\'d3\'c3\'b2\'bb\'cd\'ac\'b5\'c4
\f10 message
\f0 \'bd\'da\'b5\'e3\'a3\'a8\'bd\'da\'b5\'e3\'ce\'de\'d7\'b4\'cc\'ac\'a3\'a9\'a3\'ac\'d6\'ae\'ba\'f3\'d4\'da
\f10 comet
\f0 \'d2\'b2\'bb\'e1\'d7\'f6\'b6\'e0
\f10 message
\f0 \'bd\'da\'b5\'e3\'b5\'c4\'b8\'ba\'d4\'d8\'be\'f9\'ba\'e2
\f10 RPC
\f0 \'b5\'f7\'d3\'c3\'ba\'cd\'b9\'ca\'d5\'cf\'d7\'aa\'d2\'c6\'a3\'a8
\f10 TODO
\f0 \'a3\'a9\'a1\'a3
\f10 \
web\

\f0 \'d6\'f7\'d2\'aa\'b8\'ba\'d4\'f0\'bd\'da\'b5\'e3\'d1\'af\'ce\'ca\'a3\'ac\'d2\'d4\'bc\'b0\'c0\'eb\'cf\'df\'cf\'fb\'cf\'a2\'bb\'f1\'c8\'a1\'ba\'cd\'ba\'f3\'cc\'a8\'bd\'da\'b5\'e3\'b9\'dc\'c0\'ed\'b5\'c8\'a3\'bb\'bd\'da\'b5\'e3\'d1\'af\'ce\'ca\'d6\'f7\'d2\'aa\'d2\'c0\'be\'dd\'bf\'cd\'bb\'a7\'b6\'cb\'b5\'c4\'b6\'a9\'d4\'c4
\f10 Key
\f0 \'d2\'bb\'d6\'c2\'d0\'d4
\f10 hash
\f0 \'bc\'c6\'cb\'e3\'b3\'f6\'c1\'ac\'bd\'d3\'b5\'c4
\f10 comet
\f0 \'bd\'da\'b5\'e3\'b5\'d8\'d6\'b7\'a3\'ac\'d2\'f2\'b4\'cb\'ba\'a3\'c1\'bf\'bf\'cd\'bb\'a7\'b6\'cb\'c1\'ac\'bd\'d3\'b5\'c4\'ca\'b1\'ba\'f2\'bf\'c9\'d2\'d4\'b4\'f2\'c9\'a2\'b5\'bd\'b6\'e0\'b8\'f6
\f10 comet
\f0 \'c0\'b4\'b7\'fe\'ce\'f1\'a3\'bb\'c1\'ed\'cd\'e2\'c0\'eb\'cf\'df\'cf\'fb\'cf\'a2\'d2\'b2\'ca\'c7\'cd\'a8\'b9\'fd
\f10 web
\f0 \'bd\'d3\'bf\'da\'b7\'b5\'bb\'d8\'b8\'f8\'bf\'cd\'bb\'a7\'b6\'cb\'b5\'c4\'a3\'ac\'b5\'ab\'ca\'c7\'cf\'fb\'cf\'a2\'b5\'c4\'b6\'c1\'c8\'a1\'ca\'c7\'cd\'a8\'b9\'fd
\f10 RPC
\f0 \'b7\'a2\'cb\'cd\'b8\'f8
\f10 message
\f0 \'c4\'a3\'bf\'e9\'b5\'c4\'a3\'ac\'be\'a1\'c1\'bf\'b5\'c4\'d6\'b0\'d4\'f0\'b5\'a5\'d2\'bb
\f4\fs32 \cf5 \
\pard\pardeftab720
\cf5 ({\field{\*\fldinst{HYPERLINK "http://www.ibm.com/developerworks/cn/web/wa-cometjava/"}}{\fldrslt http://www.ibm.com/developerworks/cn/web/wa-cometjava/}})\
http://www.cnblogs.com/bhtfg538/p/3585406.html\
http://www.tuicool.com/articles/me6rIrb\
https://github.com/Terry-Mao/gopush-cluster/\
\
\
\
\
MQ \
\pard\pardeftab720
{\field{\*\fldinst{HYPERLINK "http://blog.csdn.net/sunxinhere/article/details/7968886"}}{\fldrslt 
\b \cf5 http://blog.csdn.net/sunxinhere/article/details/7968886}}
\b  
\f0 \'b8\'f7\'d6\'d6
\f4 MQ
\f0 \'bd\'e9\'c9\'dc\
\
\
apache mesos \
1.\'b0\'b2\'d7\'b0
\b0 \'ce\'ca\'cc\'e2
\f4 \
\pard\pardeftab720
{\field{\*\fldinst{HYPERLINK "http://blog.csdn.net/ys901019_sunny/article/details/18310315"}}{\fldrslt \cf5 http://blog.csdn.net/ys901019_sunny/article/details/18310315}}\
\
\pard\pardeftab720
{\field{\*\fldinst{HYPERLINK "https://github.com/GoogleCloudPlatform/kubernetes"}}{\fldrslt \cf5 kubernetes}} 
\f0\fs28 google\'d4\'c6\'bf\'f2\'bc\'dc
\f4\fs32 \
{\field{\*\fldinst{HYPERLINK "https://github.com/GoogleCloudPlatform/kubernetes"}}{\fldrslt https://github.com/GoogleCloudPlatform/kubernetes}}\
\
\
\
scala 
\f0 \'ca\'b9\'d3\'c3\'cc\'d8\'d6\'ca\'ca\'b5\'cf\'d6AOP\
object AopTest \{\
  def main(args:Array[String]): Unit =\{\
    BusService("hello world")\
  \}\
\}\
\
\
trait Service\{\
  def apply(str:String):String\
\}\
trait ForeService extends Service\{\
  \cf12 abstract override\cf5  def apply(str:String):String=\{\
    println("ForeService Start...")\
    val res=super.apply(str)\
    println("ForeService End...")\
    res\
  \}\
\}\
trait LogService extends Service\{\
  abstract override  def apply(str:String):String=\{\
    println("LogService Start...")\
    val res=super.apply(str)\
    println("LogService End...")\
    res\
  \}\
\}\
object BusService extends BusService with ForeService with LogService\
class BusService extends Service \{\
  override def apply(str:String):String=\{\
    println(s"request=$str")\
    ""\
  \}\
\}\
slick \'b7\'b5\'bb\'d8\'d7\'d4\'b6\'a8\'d2\'e5\'c0\'e0\'d0\'cd\
object ResultMap extends GetResult[Map[String,Any]] \{\
    def apply(pr: PositionedResult) = \{\
      val rs = pr.rs // <- jdbc result set//\'b4\'e6\'b4\'a2\'ca\'fd\'be\'dd\
      val md = rs.getMetaData();\'b4\'e6\'b4\'a2\'c1\'d0\'c3\'fb\
      val res = (1 to pr.numColumns).map \{ i => md.getColumnName(i) -> rs.getObject(i)\}.toMap\
      res\
    \}\
  \}\
\pard\pardeftab720

\f4 \cf5 def Sql=\{\
   SlickDBPoolManager.DBPool.withSession \{ implicit session =>\
    sql"select username,password from user".as(\cf12 ResultMap\cf5 ).list\
   \}\
 \}\
\pard\pardeftab720
{\field{\*\fldinst{HYPERLINK "http://stackoverflow.com/questions/20364790/slick-how-to-get-rows-without-knowing-number-of-columns"}}{\fldrslt \cf5 http://stackoverflow.com/questions/20364790/slick-how-to-get-rows-without-knowing-number-of-columns}}\
slick 
\f0 \'b6\'af\'cc\'ac
\f4 sql{\field{\*\fldinst{HYPERLINK "http://stackoverflow.com/questions/27329185/how-to-write-dynamic-sql-queries-with-sql-interpolation-in-slick"}}{\fldrslt http://stackoverflow.com/questions/27329185/how-to-write-dynamic-sql-queries-with-sql-interpolation-in-slick}}\
\pard\pardeftab720

\f0 \cf5 \'ca\'b9\'d3\'c3
\f4 #
\f0 $
\f4 \
def Sql=\{\
   val columns="id,username,password"\
   val list=List(1,2,3,4).mkString(",")\
   SlickDBPoolManager.DBPool.withSession \{ implicit session =>\
\
     sql"""select \cf32 #$\cf5 columns from user where id in (#$list)""".as(SlickResultMap).list\
\
   \}\
 \}\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural

\f2\fs36 \cf2 \cb3 \CocoaLigature0 FROM fastdfs:1\
ENTRYPOINT /usr/local/bin/fdfs_trackerd /home/conf/tracker.conf\
\
\
\
\
\
\pard\pardeftab720

\f4\fs32 \cf5 \cb1 \CocoaLigature1 \
rdd \
a list of partitions\
a function for computing each split\
a list of dependencies on other RDDs\
Optionally, a Partitioner for key-value RDDs (e.g to say that the RDD is hash-partitioned)\
Optionally,a list of preferred locations to compute each split on(e.g block locations for an HDFS file)\
\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural

\f1\fs24 \cf0 {{\NeXTGraphic 2__#$!@%!#__Pasted Graphic.tiff \width18600 \height13980
}¬}
\f4\fs32 \
\

\f0 \'bc\'b8\'d6\'d6\'c6\'ab\'ba\'af\'ca\'fd\'b5\'c4\'ca\'b5\'cf\'d6\'b7\'bd\'ca\'bd\

\f4 \
\pard\tx566\tx1133\tx1700\tx2267\tx2834\tx3401\tx3968\tx4535\tx5102\tx5669\tx6236\tx6803\pardirnatural
\cf0     type optype=(String)=>Unit\
    def impl(s:String,fn:optype)=fn(s)\
\
    impl("Out Stream",\{implicit s=>\
      println(s)\
    \})\
    impl("Out Stream",\{\
      case s=>println(s)\
    \})\
    impl("Out Stream",\{s:String=>\
      println(s)\
    \})\cf5 \
\pard\pardeftab720
\cf5 \
}